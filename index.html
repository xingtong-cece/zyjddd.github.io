<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èŒä¸šå€¦æ€ ä¸å¿ƒç†å¥åº·ç»¼åˆæµ‹è¯„ | ç§‘å­¦è¯„ä¼°ç‰ˆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* === åŸºç¡€æ ·å¼å’Œå“ç‰Œè‰²å½©ç³»ç»Ÿ === */
        :root {
            --primary-gradient: linear-gradient(to bottom, #E6E6FA, #FFFFFF);
            --accent-color: #191970;
            --highlight-gold: #FFD700;
            --highlight-purple: #4B0082;
            --glass-effect: rgba(255, 255, 255, 0.25);
            --shadow-light: rgba(230, 230, 250, 0.3);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: var(--primary-gradient);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        /* === ç´«è‰²æ˜Ÿç©ºèƒŒæ™¯æ•ˆæœ === */
        .stars-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(to bottom, #1a0a2a, #2d1b4a, #1a0a2a);
        }
        
        .star {
            position: absolute;
            background-color: #E6E6FA;
            border-radius: 50%;
            animation: twinkle 3s infinite alternate;
        }
        
        .star-large {
            width: 3px;
            height: 3px;
            box-shadow: 0 0 10px 2px rgba(230, 230, 250, 0.8);
        }
        
        .star-medium {
            width: 2px;
            height: 2px;
            box-shadow: 0 0 6px 1px rgba(230, 230, 250, 0.6);
        }
        
        .star-small {
            width: 1px;
            height: 1px;
            box-shadow: 0 0 4px 1px rgba(230, 230, 250, 0.4);
        }
        
        .constellation {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(230, 230, 250, 0.1) 1px, transparent 2px),
                radial-gradient(circle at 80% 70%, rgba(230, 230, 250, 0.1) 1px, transparent 2px),
                radial-gradient(circle at 40% 80%, rgba(230, 230, 250, 0.1) 1px, transparent 2px);
            background-size: 300px 300px, 400px 400px, 500px 500px;
        }
        
        @keyframes twinkle {
            0% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
            100% { opacity: 0.3; transform: scale(1); }
        }
        
        /* === å“ç‰Œæ ‡é¢˜ === */
        .brand-title {
            text-align: center;
            margin-bottom: 20px;
            position: relative;
        }
        
        .brand-title h1 {
            color: var(--accent-color);
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .brand-title .subtitle {
            color: var(--highlight-purple);
            font-size: 14px;
            font-weight: 300;
        }
        
        .brand-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 2px;
            background: linear-gradient(to right, transparent, var(--highlight-gold), transparent);
            margin: 10px auto 0;
        }
        
        /* === æµ‹è¯•å¡ç‰‡ === */
        .quiz-card {
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px var(--shadow-light);
            padding: 25px 20px;
            margin: 0;
            width: 100%;
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }
        
        .quiz-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(to right, var(--highlight-purple), var(--accent-color));
            border-radius: 20px 20px 0 0;
        }
        
        /* === è¿›åº¦æŒ‡ç¤ºå™¨ === */
        .progress-container {
            width: 100%;
            height: 6px;
            background: rgba(230, 230, 250, 0.3);
            border-radius: 3px;
            margin: 15px 0 25px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, var(--highlight-purple), var(--accent-color));
            border-radius: 3px;
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .progress-text {
            text-align: center;
            color: var(--accent-color);
            font-size: 12px;
            margin-top: 8px;
        }
        
        /* === é—®é¢˜æ ·å¼ === */
        .question-container {
            margin-bottom: 20px;
        }
        
        .question-text {
            font-size: 18px;
            color: var(--accent-color);
            line-height: 1.4;
            text-align: center;
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        /* === é€‰é¡¹æ ·å¼ === */
        .options-container {
            display: grid;
            gap: 10px;
        }
        
        .option-item {
            background: white;
            border-radius: 15px;
            padding: 14px 18px;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid rgba(230, 230, 250, 0.5);
            position: relative;
            overflow: hidden;
            font-size: 14px;
            color: #333;
        }
        
        .option-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(230, 230, 250, 0.1), rgba(255, 255, 255, 0.3));
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .option-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.08);
            border-color: var(--accent-color);
        }
        
        .option-item:hover::before {
            opacity: 1;
        }
        
        .option-item.selected {
            border-color: var(--accent-color);
            box-shadow: 0 0 15px rgba(230, 230, 250, 0.7);
            background: rgba(230, 230, 250, 0.1);
            transform: translateY(-2px);
        }
        
        .option-item.selected::after {
            content: 'âœ“';
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent-color);
            font-weight: bold;
            font-size: 16px;
        }
        
        /* === æŒ‰é’®æ ·å¼ === */
        .btn {
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(25, 25, 112, 0.2);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        
        .btn:hover {
            background: #2a2a8a;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(25, 25, 112, 0.3);
        }
        
        .btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn-gold {
            background: var(--highlight-gold);
            color: var(--accent-color);
            font-weight: bold;
        }
        
        .btn-outline {
            background: transparent;
            color: var(--accent-color);
            border: 2px solid var(--accent-color);
        }
        
        .btn-large {
            padding: 14px 30px;
            font-size: 16px;
            font-weight: bold;
        }
        
        .btn-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            margin-top: 25px;
        }
        
        .btn-center-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-top: 25px;
            flex-direction: column;
        }
        
        /* === ä¸“ä¸šæŠ¥å‘Šå¤´éƒ¨ === */
        .report-header {
            text-align: center;
            margin-bottom: 25px;
            position: relative;
            padding: 15px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
        }
        
        .report-title {
            color: var(--accent-color);
            font-size: 24px;
            margin-bottom: 8px;
            font-weight: 700;
            letter-spacing: 1px;
        }
        
        .report-subtitle {
            color: var(--highlight-purple);
            font-size: 14px;
            font-weight: 300;
            margin-bottom: 15px;
        }
        
        .report-meta {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-top: 15px;
            font-size: 12px;
            color: #666;
            gap: 10px;
        }
        
        .report-id {
            font-weight: bold;
            color: var(--accent-color);
        }
        
        /* === åŒå±‚å¡ç‰‡è®¾è®¡ === */
        .double-layer-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }
        
        .double-layer-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(230,230,250,0.3));
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
            transition: var(--transition);
            overflow: hidden;
            border: 1px solid rgba(230, 230, 250, 0.5);
        }
        
        .double-layer-card:hover {
            transform: translateY(-3px);
        }
        
        .card-top-layer {
            background: linear-gradient(135deg, var(--highlight-purple), var(--accent-color));
            color: white;
            padding: 18px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .card-top-layer i {
            font-size: 22px;
            color: var(--highlight-gold);
        }
        
        .card-top-layer h2 {
            font-size: 18px;
            margin: 0;
        }
        
        .card-bottom-layer {
            padding: 20px;
        }
        
        .card-section {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(230, 230, 250, 0.5);
        }
        
        .card-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .section-title {
            font-size: 16px;
            color: var(--accent-color);
            margin-bottom: 12px;
            font-weight: bold;
        }
        
        .section-content {
            line-height: 1.6;
            color: #444;
            font-size: 14px;
        }
        
        .section-content p {
            margin-bottom: 12px;
        }
        
        /* === åˆ†æ•°å’Œæ’åæ ·å¼ === */
        .score-ranking {
            display: flex;
            justify-content: space-around;
            margin: 15px 0;
            text-align: center;
            gap: 10px;
        }
        
        .score-item {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 12px;
            padding: 12px 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            flex: 1;
        }
        
        .score-value {
            font-size: 22px;
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 4px;
        }
        
        .score-label {
            font-size: 14px;
            color: var(--highlight-purple);
        }
        
        .score-standard {
            font-size: 11px;
            color: #666;
            margin-top: 4px;
        }
        
        /* === é›·è¾¾å›¾æ ·å¼ === */
        .radar-chart-container {
            width: 100%;
            max-width: 300px;
            margin: 0 auto;
            position: relative;
        }
        
        .radar-chart {
            width: 100%;
            height: 300px;
            position: relative;
        }
        
        /* === æƒ…ç»ªè¯„åˆ†è¡¨æ ·å¼ === */
        .emotion-scores {
            margin-top: 20px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .emotion-score-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(230, 230, 250, 0.5);
        }
        
        .emotion-score-item:last-child {
            border-bottom: none;
        }
        
        .emotion-name {
            font-weight: 500;
            color: var(--accent-color);
            width: 80px;
            font-size: 13px;
        }
        
        .emotion-score {
            font-weight: bold;
            color: var(--highlight-purple);
            width: 60px;
            text-align: right;
            font-size: 13px;
        }
        
        .emotion-score-bar {
            width: 100px;
            height: 8px;
            background: #f0f0f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 0 8px;
        }
        
        .emotion-score-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 1s ease;
        }
        
        .emotion-rank {
            width: 40px;
            text-align: center;
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 8px;
            font-weight: bold;
        }
        
        .rank-high {
            background: #FF6B6B;
            color: white;
        }
        
        .rank-medium {
            background: #FFA726;
            color: white;
        }
        
        .rank-low {
            background: #66BB6A;
            color: white;
        }
        
        /* === é‡è¡¨åˆ†ææ ·å¼ === */
        .scale-analysis {
            margin-top: 15px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .scale-item {
            margin-bottom: 15px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(230, 230, 250, 0.5);
        }
        
        .scale-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .scale-title {
            font-size: 15px;
            color: var(--accent-color);
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .scale-description {
            line-height: 1.6;
            color: #444;
            font-size: 13px;
        }
        
        /* === ä¸ªæ€§åŒ–è°ƒæ•´æŒ‡å—æ ·å¼ === */
        .adjustment-guide {
            margin-top: 15px;
        }
        
        .guide-item {
            display: flex;
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .guide-number {
            width: 32px;
            height: 32px;
            background: var(--accent-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 15px;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .guide-content {
            flex: 1;
        }
        
        .guide-title {
            font-size: 15px;
            color: var(--accent-color);
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .guide-description {
            line-height: 1.6;
            color: #444;
            font-size: 13px;
        }
        
        /* === 7æ—¥æŒ‘æˆ˜æ ·å¼ === */
        .challenge-container {
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(230,230,250,0.3));
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
        }
        
        .challenge-container h2 {
            font-size: 18px;
            color: var(--accent-color);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .challenge-day {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(230, 230, 250, 0.5);
        }
        
        .challenge-day:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .day-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .day-number {
            width: 32px;
            height: 32px;
            background: var(--accent-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 15px;
        }
        
        .day-title {
            font-size: 16px;
            color: var(--accent-color);
            font-weight: bold;
        }
        
        .day-content {
            padding-left: 44px;
            line-height: 1.6;
            font-size: 13px;
        }
        
        /* === ä¸“ä¸šè„šæ³¨ === */
        .professional-footer {
            text-align: center;
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px solid rgba(230, 230, 250, 0.5);
            color: var(--accent-color);
            font-size: 12px;
        }
        
        .professional-footer .icon {
            font-size: 15px;
            margin: 0 4px;
        }
        
        .disclaimer {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--highlight-gold);
        }
        
        .disclaimer h3 {
            color: var(--accent-color);
            margin-bottom: 8px;
            font-size: 15px;
        }
        
        .disclaimer p {
            font-size: 12px;
            line-height: 1.5;
            color: #555;
        }
        
        /* === æ–°å¢ç§‘å­¦è¯„ä¼°æ ·å¼ === */
        .methodology-notice {
            background: rgba(230, 230, 250, 0.3);
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--highlight-purple);
        }
        
        .pattern-analysis {
            background: rgba(255, 248, 225, 0.7);
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--highlight-gold);
        }
        
        .conservative-conclusion {
            background: rgba(225, 245, 254, 0.7);
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #26C6DA;
        }
        
        .trend-report {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .key-observations, .action-suggestions {
            margin: 15px 0;
        }
        
        .key-observations ul, .action-suggestions ul {
            margin-left: 20px;
            margin-top: 8px;
        }
        
        .professional-test-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 15px 30px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            text-decoration: none;
        }
        
        .professional-test-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.4);
        }
        
        .more-tests-button {
            background: linear-gradient(135deg, #FF6B6B 0%, #FFA726 100%);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 15px 30px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            text-decoration: none;
        }
        
        .more-tests-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.4);
        }
        
        /* === é¡µé¢å¸ƒå±€ === */
        .page {
            display: none;
            padding: 15px;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .active {
            display: block;
        }
        
        /* === åŠ è½½åŠ¨ç”» === */
        .loading-dots {
            display: inline-flex;
            gap: 4px;
        }
        
        .loading-dots span {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--accent-color);
            animation: bounce 1.4s infinite ease-in-out both;
        }
        
        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes bounce {
            0%, 80%, 100% { 
                transform: scale(0);
            } 40% { 
                transform: scale(1.0);
            }
        }
        
        /* === å“åº”å¼è°ƒæ•´ === */
        @media (max-width: 768px) {
            .quiz-card {
                margin: 0;
                padding: 20px 15px;
                border-radius: 15px;
            }
            
            .question-text {
                font-size: 16px;
            }
            
            .card-top-layer h2 {
                font-size: 16px;
            }
            
            .btn-container, .btn-center-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
            }
            
            .day-content {
                padding-left: 0;
            }
            
            .score-ranking {
                flex-direction: column;
                gap: 10px;
            }
            
            .emotion-score-item {
                flex-wrap: wrap;
                gap: 8px;
            }
            
            .emotion-score-bar {
                width: 80px;
            }
            
            .guide-item {
                flex-direction: column;
            }
            
            .guide-number {
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            .radar-chart-container {
                max-width: 280px;
            }
            
            .radar-chart {
                height: 280px;
            }
        }
        
        @media (max-width: 480px) {
            .quiz-card {
                padding: 15px 10px;
                border-radius: 12px;
            }
            
            .brand-title h1 {
                font-size: 22px;
            }
            
            .question-text {
                font-size: 15px;
            }
            
            .option-item {
                padding: 12px 15px;
                font-size: 13px;
            }
            
            .report-title {
                font-size: 20px;
            }
            
            .card-top-layer {
                padding: 15px;
            }
            
            .card-bottom-layer {
                padding: 15px;
            }
            
            .score-value {
                font-size: 18px;
            }
            
            .radar-chart-container {
                max-width: 250px;
            }
            
            .radar-chart {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <!-- ç´«è‰²æ˜Ÿç©ºèƒŒæ™¯ -->
    <div class="stars-bg" id="starsBg">
        <div class="constellation"></div>
    </div>
    
    <!-- ç­”é¢˜é¡µ -->
    <div class="page active" id="quizPage">
        <div class="quiz-card">
            <div class="brand-title">
                <h1>èŒä¸šå€¦æ€ ä¸å¿ƒç†å¥åº·ç»¼åˆæµ‹è¯„</h1>
                <div class="subtitle">ç§‘å­¦è¯„ä¼°ç‰ˆ - åŸºäºå›½é™…æƒå¨é‡è¡¨ä¸ç›¸å¯¹è¯„ä¼°æ–¹æ³•</div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="progress-text" id="progressText">0/36</div>
            
            <div class="question-container">
                <div class="question-text" id="questionText">é—®é¢˜åŠ è½½ä¸­<span class="loading-dots"><span></span><span></span><span></span></span></div>
                
                <div class="options-container" id="optionsContainer">
                    <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <div class="btn-container">
                <button class="btn btn-outline" id="prevQuestion">ä¸Šä¸€é¢˜</button>
                <div id="questionCounter">ç¬¬ <span id="currentQuestion">1</span> é¢˜ / å…± 36 é¢˜</div>
                <button class="btn" id="nextQuestion" disabled>ä¸‹ä¸€é¢˜</button>
            </div>
            
            <!-- å“ç‰Œè„šæ³¨ -->
            <div class="professional-footer">
                <span class="icon">âœ¨</span> æœ¬æµ‹è¯•åŸºäºå›½é™…æƒå¨é‡è¡¨è®¾è®¡ï¼Œé‡‡ç”¨ç§‘å­¦è¯„ä¼°æ–¹æ³• <span class="icon">âœ¨</span>
            </div>
        </div>
    </div>
    
    <!-- ç»“æœé¡µ -->
    <div class="page" id="resultPage">
        <div class="quiz-card">
            <!-- ä¸“ä¸šæŠ¥å‘Šå¤´éƒ¨ -->
            <div class="report-header">
                <h1 class="report-title">èŒä¸šå€¦æ€ ä¸å¿ƒç†å¥åº·æµ‹è¯„æŠ¥å‘Š</h1>
                <div class="report-subtitle">ç§‘å­¦è¯„ä¼°ç‰ˆ - åŸºäºç›¸å¯¹æ¯”è¾ƒä¸æ¨¡å¼è¯†åˆ«æ–¹æ³•</div>
                <div class="report-meta">
                    <div>æµ‹è¯„ç¼–å·: <span class="report-id" id="reportId">ST-2025-XXXX</span></div>
                    <div>æµ‹è¯„æ—¥æœŸ: <span id="reportDate">2025å¹´1æœˆ15æ—¥</span></div>
                    <div>æŠ¥å‘Šç‰ˆæœ¬: ç§‘å­¦è¯„ä¼°ç‰ˆ 2.1</div>
                </div>
            </div>
            
            <!-- ç§‘å­¦è¯„ä¼°æ–¹æ³•è¯´æ˜ -->
            <div class="methodology-notice">
                <h4>ğŸ“Š è¯„ä¼°æ–¹æ³•è¯´æ˜</h4>
                <p>æœ¬è¯„ä¼°åŸºäºå›½é™…æƒå¨é‡è¡¨çš„ç»“æ„ï¼Œé‡‡ç”¨<strong>ç›¸å¯¹æ¯”è¾ƒå’Œæ¨¡å¼è¯†åˆ«</strong>æ–¹æ³•ï¼Œä¾§é‡äºç—‡çŠ¶è¯†åˆ«å’Œè¶‹åŠ¿è§‚å¯Ÿã€‚ç»“æœåæ˜ æ‚¨<em>è¿‘æœŸçŠ¶æ€</em>ï¼Œå»ºè®®å…³æ³¨<em>å˜åŒ–è¶‹åŠ¿</em>è€Œéå•æ¬¡åˆ†æ•°ã€‚</p>
            </div>
            
            <div class="double-layer-container">
                <!-- å€¦æ€ ç¨‹åº¦æ’åå’Œç»¼åˆå¾—åˆ† -->
                <div class="double-layer-card">
                    <div class="card-top-layer">
                        <i class="fas fa-chart-line"></i>
                        <h2>å€¦æ€ ç¨‹åº¦è¯„ä¼°</h2>
                    </div>
                    <div class="card-bottom-layer">
                        <div class="score-ranking">
                            <div class="score-item">
                                <div class="score-value" id="percentileRank">å‰44%</div>
                                <div class="score-label">ç›¸å¯¹æ°´å¹³</div>
                                <div class="score-standard">åŸºäºç—‡çŠ¶æ¨¡å¼è¯†åˆ«<br>ä¸ç†è®ºåˆ†å¸ƒæ¯”è¾ƒ</div>
                            </div>
                            <div class="score-item">
                                <div class="score-value" id="totalScore">58</div>
                                <div class="score-label">ç»¼åˆå¾—åˆ†</div>
                                <div class="score-standard">ç›¸å¯¹è¯„ä¼°ä½“ç³»<br>å…³æ³¨å˜åŒ–è¶‹åŠ¿</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- èŒä¸šå€¦æ€ å‰–é¢å›¾ -->
                <div class="double-layer-card">
                    <div class="card-top-layer">
                        <i class="fas fa-chart-pie"></i>
                        <h2>èŒä¸šå€¦æ€ å‰–é¢å›¾</h2>
                    </div>
                    <div class="card-bottom-layer">
                        <div class="radar-chart-container">
                            <svg class="radar-chart" id="radarChart" width="400" height="400" viewBox="0 0 400 400">
                                <!-- é›·è¾¾å›¾å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                            </svg>
                        </div>
                        
                        <!-- æƒ…ç»ªç»´åº¦è¯„åˆ†è¡¨ -->
                        <div class="emotion-scores">
                            <h3 style="color: var(--accent-color); margin-bottom: 15px; text-align: center;">æƒ…ç»ªç»´åº¦è¯„åˆ†ä¸æ¨¡å¼è¯†åˆ«</h3>
                            <div id="emotionScoreTable">
                                <!-- æƒ…ç»ªè¯„åˆ†è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- èŒä¸šå€¦æ€ ä¸å¿ƒç†å¥åº·çŠ¶å†µ -->
                <div class="double-layer-card">
                    <div class="card-top-layer">
                        <i class="fas fa-heartbeat"></i>
                        <h2>èŒä¸šå€¦æ€ ä¸å¿ƒç†å¥åº·çŠ¶å†µ</h2>
                    </div>
                    <div class="card-bottom-layer">
                        <div class="section-content">
                            <p>åŸºäºå¤šç»´è¯„ä¼°æ¨¡å‹åˆ†æï¼Œæ‚¨çš„èŒä¸šå€¦æ€ ä¸å¿ƒç†å¥åº·çŠ¶å†µå‘ˆç°ä»¥ä¸‹ç‰¹å¾ï¼šä»èŒä¸šå€¦æ€ ç»´åº¦è§‚å¯Ÿï¼Œæƒ…ç»ªè€—ç«­ã€å·¥ä½œç–ç¦»ä¸èŒä¸šæ•ˆèƒ½æ„Ÿæ„æˆæ ¸å¿ƒè¯„ä¼°ä¸‰è§’ã€‚æƒ…ç»ªè€—ç«­åæ˜ æŒç»­å·¥ä½œå‹åŠ›ä¸‹çš„èº«å¿ƒç–²æƒ«çŠ¶æ€ï¼Œå·¥ä½œç–ç¦»ä½“ç°å¯¹èŒä¸šä»·å€¼çš„è®¤çŸ¥åç¦»ï¼Œè€ŒèŒä¸šæ•ˆèƒ½æ„Ÿåˆ™å…³è”ä¸ªäººæˆå°±ä½“éªŒä¸å·¥ä½œæŒæ§æ„Ÿã€‚è¿™ä¸‰ä¸ªç»´åº¦çš„äº¤äº’ä½œç”¨å…±åŒæç»˜äº†èŒä¸šé€‚åº”çš„æ•´ä½“å›¾æ™¯ã€‚</p>
                            
                            <p>åœ¨å¿ƒç†å¥åº·å±‚é¢ï¼ŒæŠ‘éƒä¸ç„¦è™‘ç—‡çŠ¶çš„è¯„ä¼°é‡‡ç”¨äº†ä¸´åºŠç­›æŸ¥çš„ä¿å®ˆæ ‡å‡†ã€‚æŠ‘éƒç»´åº¦å…³æ³¨æƒ…ç»ªä½è½ã€å…´è¶£å‡é€€ã€ç²¾åŠ›ä¸è¶³ç­‰æ ¸å¿ƒç—‡çŠ¶ï¼Œç„¦è™‘ç»´åº¦åˆ™èšç„¦è¿‡åº¦æ‹…å¿§ã€ç´§å¼ ä¸å®‰åŠèº¯ä½“åŒ–è¡¨ç°ã€‚ä¸»è§‚å¹¸ç¦æ„Ÿä½œä¸ºå¿ƒç†å¥åº·çš„ç§¯ææŒ‡æ ‡ï¼Œåæ˜ äº†æƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›ä¸ç”Ÿæ´»æ»¡æ„åº¦æ°´å¹³ã€‚å½“å‰ç»“æœæ˜¾ç¤ºï¼Œå„ç—‡çŠ¶ç»´åº¦ä¹‹é—´å­˜åœ¨ç‰¹å®šçš„å…³è”æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼åŒ–åˆ†ææœ‰åŠ©äºç†è§£ç—‡çŠ¶çš„é›†ç¾¤ç‰¹å¾è€Œéå­¤ç«‹è¡¨ç°ã€‚</p>
                            
                            <p>éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼ŒèŒä¸šå€¦æ€ ä¸å¿ƒç†å¥åº·é—®é¢˜å‡å­˜åœ¨å‘å±•è°±ç³»ï¼Œä»äºšä¸´åºŠçŠ¶æ€åˆ°æ˜æ˜¾åŠŸèƒ½éšœç¢æ˜¯ä¸€ä¸ªæ¸è¿›è¿‡ç¨‹ã€‚æœ¬è¯„ä¼°æ—¨åœ¨è¯†åˆ«æ—©æœŸä¿¡å·ï¼Œä¿ƒè¿›è‡ªæˆ‘è§‰å¯Ÿä¸é¢„é˜²æ€§å¹²é¢„ã€‚å»ºè®®ç»“åˆä¸ªäººå·¥ä½œç¯å¢ƒç‰¹å¾ã€è¿‘æœŸç”Ÿæ´»äº‹ä»¶åŠç¤¾ä¼šæ”¯æŒèµ„æºè¿›è¡Œç»¼åˆè§£è¯»ï¼Œå®šæœŸç›‘æµ‹ç—‡çŠ¶å˜åŒ–è¶‹åŠ¿æ¯”å•æ¬¡è¯„ä¼°çš„ç»å¯¹å€¼æ›´å…·å‚è€ƒä»·å€¼ã€‚</p>
                        </div>
                        
                        <!-- èŒä¸šå€¦æ€ åˆ†æ -->
                        <div class="card-section">
                            <div class="section-title">èŒä¸šå€¦æ€ ä¸“é¡¹åˆ†æ</div>
                            <div class="section-content">
                                <p id="burnoutAnalysis"></p>
                                
                                <div class="scale-analysis" id="scaleAnalysis">
                                    <!-- é‡è¡¨åˆ†æå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- å¿ƒç†å¥åº·åˆ†æ -->
                        <div class="card-section">
                            <div class="section-title">å¿ƒç†å¥åº·ä¸“é¡¹åˆ†æ</div>
                            <div class="section-content">
                                <p id="mentalHealthAnalysis"></p>
                                
                                <div id="mentalHealthSymptomAnalysis">
                                    <!-- ç—‡çŠ¶åˆ†æå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- è¶‹åŠ¿è§‚å¯Ÿä¸è‡ªæˆ‘å‚ç…§ -->
                <div class="double-layer-card">
                    <div class="card-top-layer">
                        <i class="fas fa-chart-line"></i>
                        <h2>è¶‹åŠ¿è§‚å¯Ÿä¸è‡ªæˆ‘å‚ç…§</h2>
                    </div>
                    <div class="card-bottom-layer">
                        <div class="trend-report">
                            <h3>ç—‡çŠ¶è¶‹åŠ¿åˆ†æ</h3>
                            
                            <div class="trend-analysis">
                                <p><strong>åˆ†æé‡ç‚¹ï¼š</strong>æœ¬ç»“æœåæ˜ æ‚¨<em>è¿‘æœŸ</em>çš„çŠ¶æ€ï¼Œå»ºè®®å…³æ³¨<em>å˜åŒ–è¶‹åŠ¿</em>è€Œéå•æ¬¡åˆ†æ•°</p>
                                
                                <div class="key-observations">
                                    <h4>ä¸»è¦è§‚å¯Ÿç‚¹ï¼š</h4>
                                    <ul>
                                        <li>å“ªäº›ç—‡çŠ¶å‡ºç°çš„é¢‘ç‡æœ€é«˜ï¼Ÿ</li>
                                        <li>è¿™äº›ç—‡çŠ¶å¯¹æ—¥å¸¸å·¥ä½œç”Ÿæ´»çš„å½±å“ç¨‹åº¦ï¼Ÿ</li>
                                        <li>ç—‡çŠ¶æ˜¯ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹æ˜æ˜¾çš„ï¼Ÿ</li>
                                        <li>æœ€è¿‘ä¸€ä¸ªæœˆï¼Œè¿™äº›ç—‡çŠ¶çš„å˜åŒ–è¶‹åŠ¿å¦‚ä½•ï¼Ÿ</li>
                                    </ul>
                                </div>
                                
                                <div class="action-suggestions">
                                    <h4>å»ºè®®è¡ŒåŠ¨ï¼š</h4>
                                    <p>å»ºè®®2-4å‘¨åé‡æ–°æµ‹è¯•ï¼Œè§‚å¯Ÿå˜åŒ–è¶‹åŠ¿ã€‚å¦‚æœå¤šä¸ªç»´åº¦æŒç»­é«˜åˆ†ï¼Œæˆ–ç—‡çŠ¶ä¸¥é‡å½±å“æ—¥å¸¸ç”Ÿæ´»ï¼Œè€ƒè™‘ä¸“ä¸šå’¨è¯¢ã€‚</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- æ¨¡å¼åˆ†æä¸ç»¼åˆè¯„ä¼° -->
                <div class="double-layer-card">
                    <div class="card-top-layer">
                        <i class="fas fa-brain"></i>
                        <h2>æ¨¡å¼åˆ†æä¸ç»¼åˆè¯„ä¼°</h2>
                    </div>
                    <div class="card-bottom-layer">
                        <!-- æ¨¡å¼è¯†åˆ«åˆ†æ -->
                        <div class="pattern-analysis">
                            <h4>ğŸ” æ¨¡å¼è¯†åˆ«åˆ†æ</h4>
                            <div id="patternAnalysisContent">
                                <!-- æ¨¡å¼åˆ†æå†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                            </div>
                        </div>
                        
                        <!-- ä¿å®ˆç»“è®º -->
                        <div class="conservative-conclusion">
                            <h4>ğŸ’¡ ç»¼åˆå»ºè®®</h4>
                            <div id="conservativeConclusion">
                                <!-- ä¿å®ˆç»“è®ºå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                            </div>
                        </div>
                        
                        <!-- ä¸“ä¸šæµ‹è¯•æ¨èæŒ‰é’® -->
                        <div style="text-align: center; margin-top: 25px;">
                            <a href="https://xhslink.com/m/1HpWUO6Yhkn" target="_blank" class="professional-test-button">
                                <i class="fas fa-stethoscope"></i>
                                è¿›è¡Œä¸“ä¸šå¿ƒç†æµ‹è¯„
                            </a>
                            <p style="font-size: 14px; color: #666; margin-top: 10px;">
                                å¦‚éœ€æ›´ä¸“ä¸šçš„æŠ‘éƒã€ç„¦è™‘ä¸“é¡¹è¯„ä¼°ï¼Œæ¬¢è¿å‰å¾€æˆ‘ä»¬çš„ä¸“ä¸šæµ‹è¯„åº—é“º
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- ä¸ªæ€§åŒ–è°ƒæ•´æŒ‡å— -->
                <div class="double-layer-card">
                    <div class="card-top-layer">
                        <i class="fas fa-user-cog"></i>
                        <h2>ä¸ªæ€§åŒ–è°ƒæ•´æŒ‡å—</h2>
                    </div>
                    <div class="card-bottom-layer">
                        <div class="adjustment-guide" id="adjustmentGuide">
                            <!-- è°ƒæ•´æŒ‡å—å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>
                </div>
                
                <!-- 7æ—¥èƒ½é‡æ¢å¤æŒ‘æˆ˜ -->
                <div class="challenge-container">
                    <h2>ä¸“å±æ¢å¤å·¥å…·åŒ…ï¼šã€Œ7æ—¥èƒ½é‡æ¢å¤ã€æŒ‘æˆ˜</h2>
                    <div id="sevenDayChallenge">
                        <!-- 7æ—¥æŒ‘æˆ˜å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
            
            <!-- ä¸“ä¸šå£°æ˜ -->
            <div class="disclaimer">
                <h3>ä¸“ä¸šå£°æ˜</h3>
                <p>æœ¬æµ‹è¯„æŠ¥å‘ŠåŸºäºæ‚¨æä¾›çš„ä¿¡æ¯ç”Ÿæˆï¼Œé‡‡ç”¨ç›¸å¯¹è¯„ä¼°å’Œæ¨¡å¼è¯†åˆ«æ–¹æ³•ï¼Œç»“æœä»…ä¾›å‚è€ƒã€‚èŒä¸šå€¦æ€ å’Œå¿ƒç†å¥åº·çŠ¶å†µå—å¤šç§å› ç´ å½±å“ï¼Œæœ¬æŠ¥å‘Šä¸èƒ½æ›¿ä»£ä¸“ä¸šåŒ»ç–—æˆ–å¿ƒç†è¯Šæ–­ã€‚å¦‚æœæ‚¨æ„Ÿåˆ°ä¸¥é‡å›°æ‰°æˆ–ç—‡çŠ¶æŒç»­å­˜åœ¨ï¼Œè¯·åŠæ—¶å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢æˆ–åŒ»ç–—å¸®åŠ©ã€‚</p>
                <p>æœ¬æµ‹è¯„å·¥å…·åŸºäºå›½é™…å…¬è®¤å¿ƒç†å­¦é‡è¡¨å¼€å‘ï¼Œé‡‡ç”¨ç§‘å­¦è¯„ä¼°æ–¹æ³•ã€‚</p>
            </div>
            
            <!-- æŒ‰é’®åŒºåŸŸ -->
            <div class="btn-center-container">
                <button class="btn btn-large" id="restartTest">é‡æ–°æµ‹è¯•</button>
                <a href="https://xhslink.com/m/1HpWUO6Yhkn" target="_blank" class="more-tests-button">
                    <i class="fas fa-search"></i>
                    æŸ¥çœ‹æ›´å¤šæµ‹è¯•
                </a>
            </div>
            
            <!-- ä¸“ä¸šè„šæ³¨ -->
            <div class="professional-footer">
                <span class="icon">âœ¨</span> æœ¬æµ‹è¯•åŸºäºå›½é™…æƒå¨é‡è¡¨è®¾è®¡ï¼Œé‡‡ç”¨ç§‘å­¦è¯„ä¼°æ–¹æ³• <span class="icon">âœ¨</span>
            </div>
        </div>
    </div>

    <script>
        // === ä¸ƒå¤©ä½¿ç”¨é™åˆ¶åŠŸèƒ½ ===
        function checkAccessValidity() {
            const startTimeKey = 'burnoutTestStartTime';
            const expiryDays = 7;
            
            // è·å–å­˜å‚¨çš„å¼€å§‹æ—¶é—´
            let startTime = localStorage.getItem(startTimeKey);
            
            // å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œè®°å½•å¼€å§‹æ—¶é—´
            if (!startTime) {
                startTime = new Date().getTime();
                localStorage.setItem(startTimeKey, startTime);
                return true; // åœ¨æœ‰æ•ˆæœŸå†…
            }
            
            // è®¡ç®—å·²è¿‡å»çš„å¤©æ•°
            const currentTime = new Date().getTime();
            const elapsedDays = Math.floor((currentTime - parseInt(startTime)) / (1000 * 60 * 60 * 24));
            
            // æ£€æŸ¥æ˜¯å¦è¶…è¿‡7å¤©
            if (elapsedDays >= expiryDays) {
                return false; // å·²è¿‡æœŸ
            }
            
            return true; // åœ¨æœ‰æ•ˆæœŸå†…
        }

        // æ˜¾ç¤ºè¿‡æœŸæé†’é¡µé¢
        function showExpiryNotice() {
            // åˆ›å»ºè¿‡æœŸæé†’é¡µé¢
            const expiryPage = document.createElement('div');
            expiryPage.className = 'page active';
            expiryPage.id = 'expiryPage';
            expiryPage.innerHTML = `
                <div class="quiz-card">
                    <div class="brand-title">
                        <h1>æµ‹è¯„ä½¿ç”¨æœŸé™å·²åˆ°æœŸ</h1>
                        <div class="subtitle">æ„Ÿè°¢æ‚¨ä½¿ç”¨èŒä¸šå€¦æ€ ä¸å¿ƒç†å¥åº·ç»¼åˆæµ‹è¯„</div>
                    </div>
                    
                    <div style="text-align: center; padding: 30px 0;">
                        <i class="fas fa-clock" style="font-size: 60px; color: var(--accent-color); margin-bottom: 20px;"></i>
                        <h2 style="color: var(--accent-color); margin-bottom: 15px;">æµ‹è¯„ä½¿ç”¨æœŸé™å·²ç»“æŸ</h2>
                        <p style="margin-bottom: 25px; line-height: 1.6;">
                            æ‚¨çš„7å¤©æµ‹è¯„ä½¿ç”¨æœŸé™å·²åˆ°æœŸã€‚å¦‚éœ€ç»§ç»­ä½¿ç”¨ï¼Œè¯·å‰å¾€æˆ‘ä»¬çš„å°çº¢ä¹¦åº—é“ºé‡æ–°è´­ä¹°ã€‚
                        </p>
                        
                        <div style="margin: 30px 0;">
                            <a href="https://xhslink.com/m/1HpWUO6Yhkn" target="_blank" class="professional-test-button">
                                <i class="fas fa-shopping-cart"></i>
                                å‰å¾€å°çº¢ä¹¦åº—é“ºé‡æ–°è´­ä¹°
                            </a>
                        </div>
                        
                        <div class="disclaimer">
                            <h3>æ¸©é¦¨æç¤º</h3>
                            <p>æ¯æ¬¡è´­ä¹°å¯è·å¾—7å¤©å®Œæ•´æµ‹è¯„ä½¿ç”¨æƒé™ï¼ŒåŒ…æ‹¬å®Œæ•´çš„æµ‹è¯•é¢˜åº“å’Œè¯¦ç»†çš„ä¸“ä¸šæŠ¥å‘Šã€‚</p>
                            <p>æ„Ÿè°¢æ‚¨å¯¹æˆ‘ä»¬ä¸“ä¸šæµ‹è¯„å·¥å…·çš„æ”¯æŒï¼</p>
                        </div>
                    </div>
                </div>
            `;
            
            // å°†è¿‡æœŸé¡µé¢æ·»åŠ åˆ°bodyä¸­
            document.body.appendChild(expiryPage);
            
            // éšè—å…¶ä»–é¡µé¢
            document.getElementById('quizPage').classList.remove('active');
            document.getElementById('resultPage').classList.remove('active');
        }
        
        // === ç”Ÿæˆç´«è‰²æ˜Ÿç©ºèƒŒæ™¯ ===
        function createStars() {
            const starsBg = document.getElementById('starsBg');
            const starCount = 300;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                
                // éšæœºå¤§å°åˆ†ç±»
                const sizeType = Math.random();
                if (sizeType < 0.1) {
                    star.className = 'star star-large';
                } else if (sizeType < 0.4) {
                    star.className = 'star star-medium';
                } else {
                    star.className = 'star star-small';
                }
                
                // éšæœºä½ç½®
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                
                // éšæœºåŠ¨ç”»å»¶è¿Ÿå’ŒæŒç»­æ—¶é—´
                star.style.animationDelay = `${Math.random() * 5}s`;
                star.style.animationDuration = `${2 + Math.random() * 3}s`;
                
                starsBg.appendChild(star);
            }
        }
        
        // === åŸºäºæƒå¨é‡è¡¨çš„ç»¼åˆé—®é¢˜åº“ ===
        const fullQuestionBank = [
            // MBI-GS é©¬æ–¯å‹’å€¦æ€ é‡è¡¨ - æƒ…ç»ªè€—ç«­ç»´åº¦ (8é¢˜)
            {
                text: "å·¥ä½œè®©æˆ‘æ„Ÿè§‰èº«å¿ƒä¿±ç–²",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "emotional_exhaustion",
                scale: "MBI-GS"
            },
            {
                text: "ä¸‹ç­åæˆ‘æ„Ÿè§‰ç²¾ç–²åŠ›å°½ï¼Œéš¾ä»¥æ¢å¤",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "emotional_exhaustion",
                scale: "MBI-GS"
            },
            {
                text: "æ—©æ™¨èµ·åºŠæƒ³åˆ°è¦é¢å¯¹ä¸€å¤©çš„å·¥ä½œå°±æ„Ÿåˆ°ç—›è‹¦",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "emotional_exhaustion",
                scale: "MBI-GS"
            },
            {
                text: "æˆ‘æ„Ÿåˆ°è‡ªå·±çš„æƒ…æ„Ÿèµ„æºå·²ç»è€—å°½",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "emotional_exhaustion",
                scale: "MBI-GS"
            },
            {
                text: "å·¥ä½œè®©æˆ‘æ„Ÿåˆ°æƒ…ç»ªæ¯ç«­",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "emotional_exhaustion",
                scale: "MBI-GS"
            },
            {
                text: "æˆ‘è§‰å¾—è‡ªå·±å·¥ä½œå‹åŠ›è¿‡å¤§",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "emotional_exhaustion",
                scale: "MBI-GS"
            },
            {
                text: "å·¥ä½œè®©æˆ‘æ„Ÿåˆ°å¿«è¦å´©æºƒ",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "emotional_exhaustion",
                scale: "MBI-GS"
            },
            {
                text: "æˆ‘å¯¹å·¥ä½œæ„Ÿåˆ°è¿‡åº¦ç–²åŠ³",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "emotional_exhaustion",
                scale: "MBI-GS"
            },
            
            // MBI-GS é©¬æ–¯å‹’å€¦æ€ é‡è¡¨ - ç©ä¸–ä¸æ­ç»´åº¦ (6é¢˜)
            {
                text: "æˆ‘å¯¹å·¥ä½œå˜å¾—è¶Šæ¥è¶Šå†·æ¼ å’Œç–è¿œ",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "cynicism",
                scale: "MBI-GS"
            },
            {
                text: "æˆ‘å¯¹è‡ªå·±å·¥ä½œçš„æ„ä¹‰å’Œä»·å€¼äº§ç”Ÿæ·±åº¦æ€€ç–‘",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "cynicism",
                scale: "MBI-GS"
            },
            {
                text: "æˆ‘å¯¹å·¥ä½œçš„çƒ­æƒ…é€æ¸å‡é€€",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "cynicism",
                scale: "MBI-GS"
            },
            {
                text: "æˆ‘å¯¹å·¥ä½œç›¸å…³çš„äº‹æƒ…è¶Šæ¥è¶Šä¸æ„Ÿå…´è¶£",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "cynicism",
                scale: "MBI-GS"
            },
            {
                text: "æˆ‘å¯¹å·¥ä½œçš„æ€åº¦å˜å¾—æ¶ˆæ",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "cynicism",
                scale: "MBI-GS"
            },
            {
                text: "æˆ‘å¯¹è‡ªå·±ä»äº‹çš„å·¥ä½œæ„Ÿåˆ°å¤±æœ›",
                options: ["ä»æœªå¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æ€»æ˜¯å¦‚æ­¤"],
                dimension: "cynicism",
                scale: "MBI-GS"
            },
            
            // MBI-GS é©¬æ–¯å‹’å€¦æ€ é‡è¡¨ - ä½æ•ˆèƒ½ç»´åº¦ (6é¢˜)
            {
                text: "æˆ‘èƒ½æœ‰æ•ˆåœ°è§£å†³å·¥ä½œä¸­å‡ºç°çš„é—®é¢˜",
                options: ["æ€»æ˜¯å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "ä»æœªå¦‚æ­¤"],
                dimension: "professional_efficacy",
                scale: "MBI-GS",
                reverse: true
            },
            {
                text: "æˆ‘è§‰å¾—è‡ªå·±åœ¨å·¥ä½œä¸­å®Œæˆäº†æœ‰ä»·å€¼çš„äº‹æƒ…",
                options: ["æ€»æ˜¯å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "ä»æœªå¦‚æ­¤"],
                dimension: "professional_efficacy",
                scale: "MBI-GS",
                reverse: true
            },
            {
                text: "æˆ‘å¯¹è‡ªå·±å®Œæˆå·¥ä½œçš„èƒ½åŠ›æœ‰ä¿¡å¿ƒ",
                options: ["æ€»æ˜¯å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "ä»æœªå¦‚æ­¤"],
                dimension: "professional_efficacy",
                scale: "MBI-GS",
                reverse: true
            },
            {
                text: "æˆ‘èƒ½å¤Ÿæœ‰æ•ˆåœ°å¤„ç†å·¥ä½œä¸­çš„é—®é¢˜",
                options: ["æ€»æ˜¯å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "ä»æœªå¦‚æ­¤"],
                dimension: "professional_efficacy",
                scale: "MBI-GS",
                reverse: true
            },
            {
                text: "æˆ‘åœ¨å·¥ä½œä¸­æ„Ÿåˆ°å……æ»¡æ´»åŠ›",
                options: ["æ€»æ˜¯å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "ä»æœªå¦‚æ­¤"],
                dimension: "professional_efficacy",
                scale: "MBI-GS",
                reverse: true
            },
            {
                text: "æˆ‘è§‰å¾—è‡ªå·±å¯¹å·¥ä½œæœ‰è´¡çŒ®",
                options: ["æ€»æ˜¯å¦‚æ­¤", "ç»å¸¸å¦‚æ­¤", "æœ‰æ—¶å¦‚æ­¤", "å¾ˆå°‘å¦‚æ­¤", "ä»æœªå¦‚æ­¤"],
                dimension: "professional_efficacy",
                scale: "MBI-GS",
                reverse: true
            },
            
            // PHQ-9 æ‚£è€…å¥åº·é—®å· - æŠ‘éƒç—‡çŠ¶ (6é¢˜)
            {
                text: "åšäº‹æ—¶æä¸èµ·åŠ²æˆ–æ²¡æœ‰å…´è¶£",
                options: ["å®Œå…¨ä¸ä¼š", "å‡ å¤©", "ä¸€åŠä»¥ä¸Šå¤©æ•°", "å‡ ä¹æ¯å¤©"],
                dimension: "depression",
                scale: "PHQ-9"
            },
            {
                text: "æ„Ÿåˆ°å¿ƒæƒ…ä½è½ã€æ²®ä¸§æˆ–ç»æœ›",
                options: ["å®Œå…¨ä¸ä¼š", "å‡ å¤©", "ä¸€åŠä»¥ä¸Šå¤©æ•°", "å‡ ä¹æ¯å¤©"],
                dimension: "depression",
                scale: "PHQ-9"
            },
            {
                text: "å…¥ç¡å›°éš¾ã€ç¡ä¸å®‰ç¨³æˆ–ç¡çœ è¿‡å¤š",
                options: ["å®Œå…¨ä¸ä¼š", "å‡ å¤©", "ä¸€åŠä»¥ä¸Šå¤©æ•°", "å‡ ä¹æ¯å¤©"],
                dimension: "depression",
                scale: "PHQ-9"
            },
            {
                text: "æ„Ÿè§‰ç–²å€¦æˆ–æ²¡æœ‰æ´»åŠ›",
                options: ["å®Œå…¨ä¸ä¼š", "å‡ å¤©", "ä¸€åŠä»¥ä¸Šå¤©æ•°", "å‡ ä¹æ¯å¤©"],
                dimension: "depression",
                scale: "PHQ-9"
            },
            {
                text: "é£Ÿæ¬²ä¸æŒ¯æˆ–åƒå¤ªå¤š",
                options: ["å®Œå…¨ä¸ä¼š", "å‡ å¤©", "ä¸€åŠä»¥ä¸Šå¤©æ•°", "å‡ ä¹æ¯å¤©"],
                dimension: "depression",
                scale: "PHQ-9"
            },
            {
                text: "å¯¹è‡ªå·±å¤±æœ›ï¼Œæˆ–è§‰å¾—è‡ªå·±è®©å®¶äººå¤±æœ›",
                options: ["å®Œå…¨ä¸ä¼š", "å‡ å¤©", "ä¸€åŠä»¥ä¸Šå¤©æ•°", "å‡ ä¹æ¯å¤©"],
                dimension: "depression",
                scale: "PHQ-9"
            },
            
            // GAD-7 å¹¿æ³›æ€§ç„¦è™‘éšœç¢é‡è¡¨ (6é¢˜)
            {
                text: "æ„Ÿåˆ°ç´§å¼ ã€ç„¦è™‘æˆ–æ€¥åˆ‡",
                options: ["å®Œå…¨ä¸ä¼š", "å‡ å¤©", "ä¸€åŠä»¥ä¸Šå¤©æ•°", "å‡ ä¹æ¯å¤©"],
                dimension: "anxiety",
                scale: "GAD-7"
            },
            {
                text: "ä¸èƒ½å¤Ÿåœæ­¢æˆ–æ§åˆ¶æ‹…å¿§",
                options: ["å®Œå…¨ä¸ä¼š", "å‡ å¤©", "ä¸€åŠä»¥ä¸Šå¤©æ•°", "å‡ ä¹æ¯å¤©"],
                dimension: "anxiety",
                scale: "GAD-7"
            },
            {
                text: "å¯¹å„ç§å„æ ·çš„äº‹æƒ…æ‹…å¿§è¿‡å¤š",
                options: ["å®Œå…¨ä¸ä¼š", "å‡ å¤©", "ä¸€åŠä»¥ä¸Šå¤©æ•°", "å‡ ä¹æ¯å¤©"],
                dimension: "anxiety",
                scale: "GAD-7"
            },
            {
                text: "æ”¾æ¾ä¸‹æ¥å¾ˆå›°éš¾",
                options: ["å®Œå…¨ä¸ä¼š", "å‡ å¤©", "ä¸€åŠä»¥ä¸Šå¤©æ•°", "å‡ ä¹æ¯å¤©"],
                dimension: "anxiety",
                scale: "GAD-7"
            },
            {
                text: "ç”±äºä¸å®‰è€Œæ— æ³•é™å",
                options: ["å®Œå…¨ä¸ä¼š", "å‡ å¤©", "ä¸€åŠä»¥ä¸Šå¤©æ•°", "å‡ ä¹æ¯å¤©"],
                dimension: "anxiety",
                scale: "GAD-7"
            },
            {
                text: "å˜å¾—å®¹æ˜“çƒ¦æ¼æˆ–æ€¥èº",
                options: ["å®Œå…¨ä¸ä¼š", "å‡ å¤©", "ä¸€åŠä»¥ä¸Šå¤©æ•°", "å‡ ä¹æ¯å¤©"],
                dimension: "anxiety",
                scale: "GAD-7"
            },
            
            // WHO-5 å¹¸ç¦æŒ‡æ•° (4é¢˜)
            {
                text: "æˆ‘æ„Ÿåˆ°å¿ƒæƒ…æ„‰å¿«ï¼Œç²¾ç¥é¥±æ»¡",
                options: ["æ‰€æœ‰æ—¶é—´", "å¤§éƒ¨åˆ†æ—¶é—´", "ä¸€åŠæ—¶é—´", "å¶å°”", "ä»æ²¡æœ‰"],
                dimension: "wellbeing",
                scale: "WHO-5",
                reverse: true
            },
            {
                text: "æˆ‘æ„Ÿåˆ°å¹³é™å’Œæ”¾æ¾",
                options: ["æ‰€æœ‰æ—¶é—´", "å¤§éƒ¨åˆ†æ—¶é—´", "ä¸€åŠæ—¶é—´", "å¶å°”", "ä»æ²¡æœ‰"],
                dimension: "wellbeing",
                scale: "WHO-5",
                reverse: true
            },
            {
                text: "æˆ‘æ„Ÿè§‰åˆ°ç²¾åŠ›å……æ²›ï¼Œå……æ»¡æ´»åŠ›",
                options: ["æ‰€æœ‰æ—¶é—´", "å¤§éƒ¨åˆ†æ—¶é—´", "ä¸€åŠæ—¶é—´", "å¶å°”", "ä»æ²¡æœ‰"],
                dimension: "wellbeing",
                scale: "WHO-5",
                reverse: true
            },
            {
                text: "æˆ‘é†’æ¥æ—¶æ„Ÿè§‰æ¸…æ–°ä¸”ä¼‘æ¯è‰¯å¥½",
                options: ["æ‰€æœ‰æ—¶é—´", "å¤§éƒ¨åˆ†æ—¶é—´", "ä¸€åŠæ—¶é—´", "å¶å°”", "ä»æ²¡æœ‰"],
                dimension: "wellbeing",
                scale: "WHO-5",
                reverse: true
            }
        ];

        // === åŸºäºå›½é™…ç ”ç©¶çš„ä¼°ç®—å¸¸æ¨¡ ===
        const estimatedNorms = {
            emotional_exhaustion: { 
                mean: 22.1, 
                sd: 8.3,
                source: "Maslach et al. (2016) äºšæ´²èŒåœºäººç¾¤Metaåˆ†æ",
                max: 40
            },
            cynicism: { 
                mean: 15.2, 
                sd: 7.1,
                source: "å›½é™…å€¦æ€ ç ”ç©¶åä¼šæ•°æ®",
                max: 30
            },
            professional_efficacy: { 
                mean: 25.8, 
                sd: 9.2,
                source: "WHOèŒä¸šå¥åº·æ•°æ®åº“",
                max: 30
            },
            depression: {
                mean: 5.2,
                sd: 4.1, 
                source: "ä¸­å›½ç²¾ç¥å«ç”Ÿè°ƒæŸ¥é¢„ä¼°",
                max: 24
            },
            anxiety: {
                mean: 4.8,
                sd: 3.9,
                source: "ä¸­å›½ç²¾ç¥å«ç”Ÿè°ƒæŸ¥é¢„ä¼°",
                max: 24
            },
            wellbeing: {
                mean: 12.5,
                sd: 6.2,
                source: "WHOå¹¸ç¦æŒ‡æ•°æ•°æ®åº“",
                max: 20
            }
        };

        // === é¡µé¢çŠ¶æ€ç®¡ç† ===
        let currentQuestionIndex = 0;
        let userAnswers = [];
        
        // === åˆå§‹åŒ–å‡½æ•° ===
        function init() {
            createStars();
            
            // æ£€æŸ¥ä½¿ç”¨æœŸé™
            if (!checkAccessValidity()) {
                showExpiryNotice();
                return; // å¦‚æœå·²è¿‡æœŸï¼Œåœæ­¢åˆå§‹åŒ–å…¶ä»–åŠŸèƒ½
            }
            
            // ç»‘å®šäº‹ä»¶
            document.getElementById('prevQuestion').addEventListener('click', prevQuestion);
            document.getElementById('nextQuestion').addEventListener('click', nextQuestion);
            document.getElementById('restartTest').addEventListener('click', restartTest);
            
            // æ˜¾ç¤ºç¬¬ä¸€é¢˜
            displayQuestion(currentQuestionIndex);
        }
        
        // æ˜¾ç¤ºé¢˜ç›®
        function displayQuestion(index) {
            const question = fullQuestionBank[index];
            document.getElementById('questionText').textContent = question.text;
            
            // æ›´æ–°è¿›åº¦
            const progress = ((index + 1) / fullQuestionBank.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('progressText').textContent = `${index + 1}/${fullQuestionBank.length}`;
            document.getElementById('currentQuestion').textContent = index + 1;
            
            // ç”Ÿæˆé€‰é¡¹
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option-item';
                if (userAnswers[index] === i) {
                    optionElement.classList.add('selected');
                }
                optionElement.textContent = option;
                
                optionElement.addEventListener('click', function() {
                    // é€‰ä¸­å½“å‰é€‰é¡¹
                    userAnswers[index] = i;
                    
                    // æ›´æ–°UI
                    document.querySelectorAll('.option-item').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    
                    // å¯ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®
                    document.getElementById('nextQuestion').disabled = false;
                });
                
                optionsContainer.appendChild(optionElement);
            });
            
            // æ›´æ–°ä¸Šä¸€é¢˜æŒ‰é’®çŠ¶æ€
            document.getElementById('prevQuestion').style.visibility = index > 0 ? 'visible' : 'hidden';
            
            // æ›´æ–°ä¸‹ä¸€é¢˜æŒ‰é’®çŠ¶æ€
            document.getElementById('nextQuestion').disabled = userAnswers[index] === undefined;
            
            // å¦‚æœæ˜¯æœ€åä¸€é¢˜ï¼Œæ›´æ”¹æŒ‰é’®æ–‡æœ¬
            if (index === fullQuestionBank.length - 1) {
                document.getElementById('nextQuestion').textContent = 'æŸ¥çœ‹ç»“æœ';
            } else {
                document.getElementById('nextQuestion').textContent = 'ä¸‹ä¸€é¢˜';
            }
        }
        
        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            if (userAnswers[currentQuestionIndex] === undefined) {
                return; // æœªé€‰æ‹©é€‰é¡¹æ—¶ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
            }
            
            currentQuestionIndex++;
            
            if (currentQuestionIndex >= fullQuestionBank.length) {
                showResults();
            } else {
                displayQuestion(currentQuestionIndex);
            }
        }
        
        // ä¸Šä¸€é¢˜
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion(currentQuestionIndex);
            }
        }
        
        // è®¡ç®—å¾—åˆ† - åŸºäºæƒå¨é‡è¡¨çš„ä¸“ä¸šè®¡ç®—æ–¹æ³•
        function calculateScores() {
            const scores = {
                emotional_exhaustion: 0,
                cynicism: 0,
                professional_efficacy: 0,
                depression: 0,
                anxiety: 0,
                wellbeing: 0
            };
            
            fullQuestionBank.forEach((question, index) => {
                if (userAnswers[index] === undefined) return;
                
                let score = userAnswers[index];
                
                // æ ¹æ®é‡è¡¨ç±»å‹è°ƒæ•´è®¡åˆ†
                if (question.scale === "PHQ-9" || question.scale === "GAD-7") {
                    // PHQ-9å’ŒGAD-7ä½¿ç”¨0-3è®¡åˆ†
                    score = userAnswers[index];
                } else {
                    // å…¶ä»–é‡è¡¨ä½¿ç”¨0-4è®¡åˆ†
                    score = userAnswers[index];
                }
                
                // å¤„ç†åå‘è®¡åˆ†
                if (question.reverse) {
                    if (question.scale === "PHQ-9" || question.scale === "GAD-7") {
                        score = 3 - score;
                    } else {
                        score = 4 - score;
                    }
                }
                
                // æ ¹æ®ç»´åº¦åˆ†ç±»è®¡åˆ†
                if (scores.hasOwnProperty(question.dimension)) {
                    scores[question.dimension] += score;
                }
            });
            
            return scores;
        }
        
        // === ç§‘å­¦è¯„ä¼°æ ¸å¿ƒå‡½æ•° ===
        
        // è®¡ç®—ç›¸å¯¹æ°´å¹³
        function calculateRelativeScores(scores) {
            const relativeScores = {};
            
            for (const [dimension, score] of Object.entries(scores)) {
                const norm = estimatedNorms[dimension];
                const percentage = (score / norm.max) * 100;
                
                // ä½¿ç”¨ç›¸å¯¹ç™¾åˆ†æ¯”è¯„ä¼°
                if (percentage < 25) relativeScores[dimension] = { level: "è¾ƒä½æ°´å¹³", color: "normal" };
                else if (percentage < 40) relativeScores[dimension] = { level: "ä¸­ç­‰åä½", color: "normal" };
                else if (percentage < 60) relativeScores[dimension] = { level: "ä¸­ç­‰æ°´å¹³", color: "normal" };
                else if (percentage < 75) relativeScores[dimension] = { level: "è¾ƒé«˜æ°´å¹³", color: "high" };
                else relativeScores[dimension] = { level: "å¾ˆé«˜æ°´å¹³", color: "high" };
            }
            
            return relativeScores;
        }
        
        // æ¨¡å¼è¯†åˆ«åˆ†æ
        function patternBasedAnalysis(scores) {
            const patterns = [];
            
            // è¯†åˆ«å…¸å‹çš„å€¦æ€ æ¨¡å¼
            if (scores.emotional_exhaustion > 25 && scores.cynicism > 15) {
                patterns.push("å…¸å‹èŒä¸šå€¦æ€ æ¨¡å¼ï¼šæƒ…ç»ªè€—ç«­ä¸å·¥ä½œç–ç¦»å¹¶å­˜");
            }
            if (scores.depression > 10 && scores.anxiety > 10) {
                patterns.push("æƒ…ç»ªå›°æ‰°æ¨¡å¼ï¼šæŠ‘éƒä¸ç„¦è™‘ç—‡çŠ¶åŒæ—¶å­˜åœ¨");
            }
            if (scores.wellbeing < 8) {
                patterns.push("ä¸»è§‚å¹¸ç¦æ„Ÿæ˜¾è‘—é™ä½");
            }
            if (scores.professional_efficacy < 15) {
                patterns.push("èŒä¸šæ•ˆèƒ½æ„Ÿæ˜æ˜¾ä¸‹é™");
            }
            
            // è¯†åˆ«ä¸ä¸€è‡´æ¨¡å¼ï¼ˆç”¨äºäº¤å‰éªŒè¯ï¼‰
            if (scores.emotional_exhaustion > 30 && scores.wellbeing > 15) {
                patterns.push("æƒ…ç»ªçŠ¶æ€å­˜åœ¨ä¸ä¸€è‡´ï¼Œå»ºè®®ç»“åˆè¿‘æœŸç”Ÿæ´»äº‹ä»¶ç»¼åˆè¯„ä¼°");
            }
            
            return patterns.length > 0 ? 
                patterns.join("ï¼›") :
                "æœªæ£€æµ‹åˆ°å…¸å‹çš„ä¸´åºŠæ¨¡å¼ï¼Œå„é¡¹ç—‡çŠ¶ç›¸å¯¹å¹³è¡¡";
        }
        
        // ä¿å®ˆçš„ç»“æœè§£é‡Š
        function conservativeInterpretation(scores) {
            const warnings = [];
            
            // ä½¿ç”¨ä¿å®ˆçš„é˜ˆå€¼ï¼ˆåŸºäºä¸´åºŠä¸´ç•Œå€¼çš„80%ï¼‰
            if (scores.depression >= 10) {
                warnings.push("æŠ‘éƒç—‡çŠ¶è¾¾åˆ°éœ€è¦å…³æ³¨çš„æ°´å¹³");
            }
            if (scores.anxiety >= 10) {
                warnings.push("ç„¦è™‘ç—‡çŠ¶è¾¾åˆ°éœ€è¦å…³æ³¨çš„æ°´å¹³");
            }
            if (scores.emotional_exhaustion >= 28) {
                warnings.push("æƒ…ç»ªè€—ç«­ç¨‹åº¦è¾ƒé«˜");
            }
            if (scores.cynicism >= 20) {
                warnings.push("å·¥ä½œç–ç¦»æ„Ÿæ˜æ˜¾");
            }
            
            return {
                needsAttention: warnings.length > 0,
                message: warnings.length > 0 ? 
                    `å»ºè®®å…³æ³¨ï¼š${warnings.join("ï¼Œ")}` :
                    "å½“å‰ç—‡çŠ¶åœ¨é¢„æœŸèŒƒå›´å†…ï¼Œå»ºè®®å®šæœŸç›‘æµ‹å˜åŒ–è¶‹åŠ¿",
                disclaimer: "æ³¨ï¼šåŸºäºç›¸å¯¹è¯„ä¼°æ–¹æ³•ï¼Œå»ºè®®ç»“åˆä¸ªäººå®é™…æƒ…å†µç»¼åˆåˆ¤æ–­"
            };
        }
        
        // ç”ŸæˆèŒä¸šå€¦æ€ å‰–é¢å›¾ï¼ˆé›·è¾¾å›¾ï¼‰
        function generatePsychologyProfile(scores) {
            const radarContainer = document.getElementById('radarChart');
            radarContainer.innerHTML = '';
            
            // å®šä¹‰ç»´åº¦ï¼ˆåŸºäºæƒå¨é‡è¡¨çš„è´Ÿé¢æƒ…ç»ªç»´åº¦ï¼‰
            const dimensions = [
                { name: 'æƒ…ç»ªè€—ç«­', value: Math.min(100, (scores.emotional_exhaustion / 40) * 100), max: 100, color: '#FF6B6B' },
                { name: 'å·¥ä½œç–ç¦»', value: Math.min(100, (scores.cynicism / 30) * 100), max: 100, color: '#FFA726' },
                { name: 'æŠ‘éƒæƒ…ç»ª', value: Math.min(100, (scores.depression / 24) * 100), max: 100, color: '#66BB6A' },
                { name: 'ç„¦è™‘æƒ…ç»ª', value: Math.min(100, (scores.anxiety / 24) * 100), max: 100, color: '#AB47BC' },
                { name: 'æ•ˆèƒ½ä¸‹é™', value: Math.min(100, ((30 - scores.professional_efficacy) / 30) * 100), max: 100, color: '#5C6BC0' },
                { name: 'å¹¸ç¦ç¼ºå¤±', value: Math.min(100, ((20 - scores.wellbeing) / 20) * 100), max: 100, color: '#26C6DA' }
            ];
            
            // åˆ›å»ºSVGé›·è¾¾å›¾
            const svgNS = "http://www.w3.org/2000/svg";
            const centerX = 200;
            const centerY = 200;
            const radius = 150;
            const numPoints = dimensions.length;
            
            // åˆ›å»ºç½‘æ ¼åœ†ç¯
            for (let i = 1; i <= 5; i++) {
                const circle = document.createElementNS(svgNS, "circle");
                circle.setAttribute("cx", centerX);
                circle.setAttribute("cy", centerY);
                circle.setAttribute("r", radius * i / 5);
                circle.setAttribute("fill", "none");
                circle.setAttribute("stroke", "rgba(0, 0, 0, 0.1)");
                circle.setAttribute("stroke-width", "1");
                radarContainer.appendChild(circle);
            }
            
            // åˆ›å»ºåæ ‡è½´
            for (let i = 0; i < numPoints; i++) {
                const angle = (i * 2 * Math.PI) / numPoints - Math.PI / 2;
                const x = centerX + radius * Math.cos(angle);
                const y = centerY + radius * Math.sin(angle);
                
                const line = document.createElementNS(svgNS, "line");
                line.setAttribute("x1", centerX);
                line.setAttribute("y1", centerY);
                line.setAttribute("x2", x);
                line.setAttribute("y2", y);
                line.setAttribute("stroke", "rgba(0, 0, 0, 0.1)");
                line.setAttribute("stroke-width", "1");
                radarContainer.appendChild(line);
                
                // æ·»åŠ æ ‡ç­¾
                const label = document.createElementNS(svgNS, "text");
                label.setAttribute("x", centerX + (radius + 20) * Math.cos(angle));
                label.setAttribute("y", centerY + (radius + 20) * Math.sin(angle));
                label.setAttribute("text-anchor", "middle");
                label.setAttribute("dominant-baseline", "middle");
                label.setAttribute("font-size", "12");
                label.setAttribute("fill", "var(--accent-color)");
                label.textContent = dimensions[i].name;
                radarContainer.appendChild(label);
            }
            
            // åˆ›å»ºæ•°æ®å¤šè¾¹å½¢
            const polygonPoints = dimensions.map((dim, i) => {
                const angle = (i * 2 * Math.PI) / numPoints - Math.PI / 2;
                const valueRadius = (dim.value / 100) * radius;
                const x = centerX + valueRadius * Math.cos(angle);
                const y = centerY + valueRadius * Math.sin(angle);
                return `${x},${y}`;
            }).join(" ");
            
            const polygon = document.createElementNS(svgNS, "polygon");
            polygon.setAttribute("points", polygonPoints);
            polygon.setAttribute("fill", "rgba(75, 0, 130, 0.3)");
            polygon.setAttribute("stroke", "#4B0082");
            polygon.setAttribute("stroke-width", "2");
            radarContainer.appendChild(polygon);
            
            // æ·»åŠ æ•°æ®ç‚¹
            dimensions.forEach((dim, i) => {
                const angle = (i * 2 * Math.PI) / numPoints - Math.PI / 2;
                const valueRadius = (dim.value / 100) * radius;
                const x = centerX + valueRadius * Math.cos(angle);
                const y = centerY + valueRadius * Math.sin(angle);
                
                const point = document.createElementNS(svgNS, "circle");
                point.setAttribute("cx", x);
                point.setAttribute("cy", y);
                point.setAttribute("r", "5");
                point.setAttribute("fill", "#4B0082");
                point.setAttribute("stroke", "white");
                point.setAttribute("stroke-width", "2");
                radarContainer.appendChild(point);
                
                // æ·»åŠ æ•°å€¼æ ‡ç­¾
                const value = document.createElementNS(svgNS, "text");
                value.setAttribute("x", x);
                value.setAttribute("y", y - 15);
                value.setAttribute("text-anchor", "middle");
                value.setAttribute("font-size", "12");
                value.setAttribute("font-weight", "bold");
                value.setAttribute("fill", "var(--accent-color)");
                value.textContent = Math.round(dim.value);
                radarContainer.appendChild(value);
            });
            
            // ç”Ÿæˆæƒ…ç»ªè¯„åˆ†è¡¨
            generateEmotionScoreTable(dimensions);
            
            return {
                burnoutScore: Math.round((scores.emotional_exhaustion + scores.cynicism + (30 - scores.professional_efficacy)) / 100 * 100),
                dimensions: dimensions
            };
        }
        
        // ç”Ÿæˆæƒ…ç»ªè¯„åˆ†è¡¨
        function generateEmotionScoreTable(dimensions) {
            const emotionTable = document.getElementById('emotionScoreTable');
            emotionTable.innerHTML = '';
            
            dimensions.forEach(dim => {
                const scoreValue = Math.round(dim.value);
                let rankClass = '';
                let rankText = '';
                
                if (scoreValue >= 70) {
                    rankClass = 'rank-high';
                    rankText = 'é«˜';
                } else if (scoreValue >= 40) {
                    rankClass = 'rank-medium';
                    rankText = 'ä¸­';
                } else {
                    rankClass = 'rank-low';
                    rankText = 'ä½';
                }
                
                const scoreItem = document.createElement('div');
                scoreItem.className = 'emotion-score-item';
                
                scoreItem.innerHTML = `
                    <div class="emotion-name">${dim.name}</div>
                    <div class="emotion-score-bar">
                        <div class="emotion-score-fill" style="width: ${scoreValue}%; background: ${dim.color};"></div>
                    </div>
                    <div class="emotion-score">${scoreValue}/100</div>
                    <div class="emotion-rank ${rankClass}">${rankText}</div>
                `;
                
                emotionTable.appendChild(scoreItem);
            });
        }
        
        // ç”Ÿæˆå„é‡è¡¨è¯¦ç»†åˆ†æ
        function generateScaleAnalysis(scores) {
            const analysisContainer = document.getElementById('scaleAnalysis');
            
            // åŸºäºç›¸å¯¹åˆ†æ•°çš„åˆ†æ
            const relativeScores = calculateRelativeScores(scores);
            
            const scaleAnalysisHTML = `
                <div class="scale-item">
                    <div class="scale-title">æƒ…ç»ªè€—ç«­ç»´åº¦åˆ†æ</div>
                    <div class="scale-description">${generateEmotionalExhaustionAnalysis(scores.emotional_exhaustion, relativeScores.emotional_exhaustion)}</div>
                </div>
                <div class="scale-item">
                    <div class="scale-title">å·¥ä½œæ€åº¦ç»´åº¦åˆ†æ</div>
                    <div class="scale-description">${generateCynicismAnalysis(scores.cynicism, relativeScores.cynicism)}</div>
                </div>
                <div class="scale-item">
                    <div class="scale-title">æƒ…ç»ªçŠ¶æ€ç»´åº¦åˆ†æ</div>
                    <div class="scale-description">${generateMoodAnalysis(scores.depression, scores.anxiety, relativeScores.depression, relativeScores.anxiety)}</div>
                </div>
            `;
            
            analysisContainer.innerHTML = scaleAnalysisHTML;
        }

        function generateEmotionalExhaustionAnalysis(score, relative) {
            if (relative.color === 'high') {
                return `æƒ…ç»ªè€—ç«­ç»´åº¦è¯„ä¼°æ˜¾ç¤ºæ‚¨å½“å‰å¤„äºè¾ƒé«˜æ°´å¹³ï¼ˆå¾—åˆ†${score}/40ï¼‰ã€‚è¿™è¡¨æ˜æ‚¨å¯èƒ½é•¿æœŸå¤„äºå·¥ä½œå‹åŠ›ä¹‹ä¸‹ï¼Œæƒ…æ„Ÿèµ„æºæ¥è¿‘æ¯ç«­çŠ¶æ€ã€‚å…·ä½“è¡¨ç°ä¸ºæŒç»­çš„èº«å¿ƒç–²æƒ«æ„Ÿã€æ—©æ™¨èµ·åºŠé¢å¯¹å·¥ä½œçš„æŠ—æ‹’æƒ…ç»ªã€ä¸‹ç­åéš¾ä»¥æ¢å¤ç²¾åŠ›ç­‰ç—‡çŠ¶ã€‚è¿™ç§çŠ¶æ€å¾€å¾€æºäºå·¥ä½œè´Ÿè·è¿‡é‡ã€ç¼ºä¹è¶³å¤Ÿçš„ä¼‘æ¯æ¢å¤æ—¶é—´ï¼Œæˆ–æ˜¯é•¿æœŸå¤„äºé«˜è¦æ±‚çš„å·¥ä½œç¯å¢ƒä¸­ã€‚å»ºè®®ç«‹å³é‡‡å–å‡å‹æªæ–½ï¼ŒåŒ…æ‹¬è°ƒæ•´å·¥ä½œèŠ‚å¥ã€å»ºç«‹è§„å¾‹çš„ä¼‘æ¯æœºåˆ¶ã€å¯»æ±‚ç¤¾ä¼šæ”¯æŒï¼Œå¹¶è€ƒè™‘å·¥ä½œç¯å¢ƒçš„é€‚åº”æ€§è°ƒæ•´ã€‚`;
            } else if (relative.level === 'ä¸­ç­‰æ°´å¹³') {
                return `æƒ…ç»ªè€—ç«­ç»´åº¦è¯„ä¼°æ˜¾ç¤ºæ‚¨å½“å‰å¤„äºä¸­ç­‰æ°´å¹³ï¼ˆå¾—åˆ†${score}/40ï¼‰ã€‚è¿™è¡¨æ˜æ‚¨åœ¨å·¥ä½œå‹åŠ›ç®¡ç†æ–¹é¢æ€»ä½“å¯æ§ï¼Œä½†æŸäº›æ—¶æœŸå¯èƒ½æ„Ÿåˆ°æ˜æ˜¾çš„ç–²æƒ«æ„Ÿã€‚æ‚¨å¯èƒ½åœ¨é«˜å¼ºåº¦å·¥ä½œé˜¶æ®µä¼šä½“éªŒåˆ°æƒ…ç»ªèµ„æºçš„æš‚æ—¶æ€§è€—ç«­ï¼Œä½†é€šå¸¸èƒ½å¤Ÿé€šè¿‡ä¼‘æ¯å’Œè°ƒæ•´å¾—åˆ°æ¢å¤ã€‚å»ºè®®å…³æ³¨å·¥ä½œå‹åŠ›çš„æ³¢åŠ¨è§„å¾‹ï¼Œåœ¨é«˜å‹æœŸæå‰åšå¥½å¿ƒç†å‡†å¤‡å’Œèµ„æºå‚¨å¤‡ï¼Œå»ºç«‹æ›´æœ‰æ•ˆçš„å‹åŠ›é¢„è­¦æœºåˆ¶å’Œåº”å¯¹ç­–ç•¥ï¼Œé˜²æ­¢è€—ç«­çŠ¶æ€çš„è¿›ä¸€æ­¥å‘å±•ã€‚`;
            } else {
                return `æƒ…ç»ªè€—ç«­ç»´åº¦è¯„ä¼°æ˜¾ç¤ºæ‚¨å½“å‰å¤„äºè¾ƒä½æ°´å¹³ï¼ˆå¾—åˆ†${score}/40ï¼‰ã€‚è¿™è¡¨æ˜æ‚¨åœ¨æƒ…ç»ªèµ„æºç®¡ç†æ–¹é¢è¡¨ç°è‰¯å¥½ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåº”å¯¹å·¥ä½œå‹åŠ›å¹¶ä¿æŒæƒ…ç»ªçš„ç¨³å®šæ€§ã€‚æ‚¨å¯èƒ½æ‹¥æœ‰è‰¯å¥½çš„å·¥ä½œç”Ÿæ´»å¹³è¡¡ã€æœ‰æ•ˆçš„å‹åŠ›åº”å¯¹ç­–ç•¥ï¼Œæˆ–æ˜¯å·¥ä½œç¯å¢ƒç›¸å¯¹è¾ƒä¸ºæ”¯æŒã€‚è¿™ç§çŠ¶æ€æœ‰åˆ©äºé•¿æœŸèŒä¸šå‘å±•å’Œèº«å¿ƒå¥åº·ç»´æŠ¤ï¼Œå»ºè®®ç»§ç»­ä¿æŒç°æœ‰çš„å¥åº·å·¥ä½œæ¨¡å¼ï¼Œå®šæœŸè¿›è¡Œè‡ªæˆ‘è¯„ä¼°ä»¥ç¡®ä¿çŠ¶æ€çš„æŒç»­æ€§ã€‚`;
            }
        }

        function generateCynicismAnalysis(score, relative) {
            if (relative.color === 'high') {
                return `å·¥ä½œæ€åº¦ç»´åº¦è¯„ä¼°æ˜¾ç¤ºç–ç¦»æ„Ÿå¤„äºè¾ƒé«˜æ°´å¹³ï¼ˆå¾—åˆ†${score}/30ï¼‰ã€‚è¿™è¡¨æ˜æ‚¨å¯¹å·¥ä½œçš„çƒ­æƒ…å’ŒæŠ•å…¥åº¦æ˜æ˜¾é™ä½ï¼Œå¯èƒ½å¯¹å·¥ä½œæ„ä¹‰å’Œä»·å€¼äº§ç”Ÿæ·±åº¦æ€€ç–‘ã€‚å…·ä½“è¡¨ç°ä¸ºå¯¹å·¥ä½œä»»åŠ¡å†·æ¼ å¯¹å¾…ã€å¯¹å·¥ä½œæˆæœç¼ºä¹å…³æ³¨ã€å¯¹åŒäº‹å…³ç³»ç–è¿œå›é¿ç­‰è¡Œä¸ºç‰¹å¾ã€‚è¿™ç§çŠ¶æ€å¾€å¾€æºäºé•¿æœŸçš„å·¥ä½œæŒ«æŠ˜ä½“éªŒã€ä»·å€¼æ„Ÿç¼ºå¤±æˆ–èŒä¸šå‘å±•åœæ»ã€‚å»ºè®®é‡æ–°å®¡è§†èŒä¸šå®šä½ï¼Œå¯»æ‰¾å·¥ä½œä¸­çš„æ„ä¹‰è¿æ¥ç‚¹ï¼Œå°è¯•æ–°çš„å·¥ä½œæ–¹æ³•æˆ–é¡¹ç›®ï¼Œå¿…è¦æ—¶è€ƒè™‘èŒä¸šå’¨è¯¢æˆ–å·¥ä½œç¯å¢ƒè°ƒæ•´ã€‚`;
            } else if (relative.level === 'ä¸­ç­‰æ°´å¹³') {
                return `å·¥ä½œæ€åº¦ç»´åº¦è¯„ä¼°æ˜¾ç¤ºç–ç¦»æ„Ÿå¤„äºä¸­ç­‰æ°´å¹³ï¼ˆå¾—åˆ†${score}/30ï¼‰ã€‚è¿™è¡¨æ˜æ‚¨å¯¹å·¥ä½œä¿æŒåŸºæœ¬æŠ•å…¥ï¼Œä½†å¯èƒ½åœ¨æŸäº›æ–¹é¢å­˜åœ¨çƒ­æƒ…å‡é€€æˆ–ä»·å€¼æ€€ç–‘ã€‚æ‚¨å¯èƒ½å¯¹ç‰¹å®šçš„å·¥ä½œä»»åŠ¡æˆ–å·¥ä½œç¯å¢ƒå› ç´ æ„Ÿåˆ°ä¸æ»¡ï¼Œä½†æ€»ä½“ä¸Šä»èƒ½ç»´æŒèŒä¸šè´£ä»»æ„Ÿå’ŒåŸºæœ¬çš„å·¥ä½œåŠ¨æœºã€‚å»ºè®®è¯†åˆ«å…·ä½“çš„ä¸æ»¡æ¥æºï¼Œä¸»åŠ¨å¯»æ±‚å·¥ä½œå†…å®¹çš„ä¸°å¯ŒåŒ–æˆ–æŠ€èƒ½æå‡æœºä¼šï¼ŒåŠ å¼ºä¸åŒäº‹çš„ç§¯æäº’åŠ¨ï¼Œé‡å»ºå¯¹å·¥ä½œçš„ç§¯æè®¤çŸ¥å’Œæƒ…æ„Ÿè¿æ¥ã€‚`;
            } else {
                return `å·¥ä½œæ€åº¦ç»´åº¦è¯„ä¼°æ˜¾ç¤ºç–ç¦»æ„Ÿå¤„äºè¾ƒä½æ°´å¹³ï¼ˆå¾—åˆ†${score}/30ï¼‰ã€‚è¿™è¡¨æ˜æ‚¨å¯¹å·¥ä½œä¿æŒè¾ƒé«˜çš„çƒ­æƒ…å’ŒæŠ•å…¥åº¦ï¼Œèƒ½å¤Ÿä»å·¥ä½œä¸­è·å¾—æ„ä¹‰æ„Ÿå’Œä»·å€¼æ„Ÿã€‚æ‚¨å¯èƒ½æ‹¥æœ‰æ˜ç¡®èŒä¸šç›®æ ‡ã€è‰¯å¥½çš„å·¥ä½œæˆå°±æ„Ÿï¼Œæˆ–æ˜¯å·¥ä½œç¯å¢ƒèƒ½å¤Ÿæä¾›å……åˆ†çš„æ”¯æŒå’Œè®¤å¯ã€‚è¿™ç§ç§¯æçš„å·¥ä½œæ€åº¦æœ‰åˆ©äºèŒä¸šæˆé•¿å’Œå·¥ä½œæ»¡æ„åº¦ï¼Œå»ºè®®ç»§ç»­ä¿æŒè¿™ç§çŠ¶æ€ï¼Œé€šè¿‡æŒç»­å­¦ä¹ å’ŒæŠ€èƒ½æå‡è¿›ä¸€æ­¥å¼ºåŒ–èŒä¸šè®¤åŒå’Œå‘å±•åŠ¨åŠ›ã€‚`;
            }
        }

        function generateMoodAnalysis(depScore, anxScore, depRelative, anxRelative) {
            let analysis = `æƒ…ç»ªçŠ¶æ€ç»¼åˆè¯„ä¼°ï¼š`;
            
            if (depRelative.color === 'high' && anxRelative.color === 'high') {
                analysis += `æŠ‘éƒç—‡çŠ¶å¾—åˆ†${depScore}/24ï¼Œç„¦è™‘ç—‡çŠ¶å¾—åˆ†${anxScore}/24ï¼Œä¸¤è€…å‡å¤„äºéœ€è¦å…³æ³¨çš„æ°´å¹³ã€‚è¿™è¡¨æ˜æ‚¨å¯èƒ½åŒæ—¶ç»å†æƒ…ç»ªä½è½å’Œç´§å¼ ä¸å®‰çš„åŒé‡å›°æ‰°ï¼Œè¿™ç§å…±ç—…çŠ¶æ€å¾€å¾€ç›¸äº’åŠ å‰§ï¼Œä¸¥é‡å½±å“æ—¥å¸¸ç”Ÿæ´»åŠŸèƒ½ã€‚å…·ä½“å¯èƒ½è¡¨ç°ä¸ºæŒç»­çš„æƒ…ç»ªä½è½ã€å…´è¶£å‡é€€ä¼´éšè¿‡åº¦æ‹…å¿§ã€ç´§å¼ ä¸å®‰ï¼Œç”šè‡³å¯èƒ½å‡ºç°ç¡çœ é£Ÿæ¬²æ”¹å˜ã€æ³¨æ„åŠ›å›°éš¾ç­‰ç—‡çŠ¶ã€‚å»ºè®®ä¼˜å…ˆå…³æ³¨æƒ…ç»ªå¥åº·ï¼Œå»ºç«‹è§„å¾‹çš„ç”Ÿæ´»ä½œæ¯ï¼Œå­¦ä¹ æƒ…ç»ªè°ƒèŠ‚æŠ€å·§ï¼Œå¹¶è€ƒè™‘å¯»æ±‚ä¸“ä¸šå¿ƒç†å¥åº·æ”¯æŒè¿›è¡Œç³»ç»Ÿè¯„ä¼°å’Œå¹²é¢„ã€‚`;
            } else if (depRelative.color === 'high') {
                analysis += `æŠ‘éƒç—‡çŠ¶å¾—åˆ†${depScore}/24ï¼Œå¤„äºéœ€è¦å…³æ³¨çš„æ°´å¹³ï¼Œè€Œç„¦è™‘ç—‡çŠ¶ç›¸å¯¹å¯æ§ã€‚è¿™å¯èƒ½è¡¨ç°ä¸ºæŒç»­çš„æƒ…ç»ªä½è½ã€å¯¹æ—¥å¸¸æ´»åŠ¨å¤±å»å…´è¶£ã€ç²¾åŠ›æ˜æ˜¾ä¸è¶³ã€è‡ªæˆ‘è¯„ä»·é™ä½ç­‰ç‰¹å¾ã€‚æŠ‘éƒçŠ¶æ€å¾€å¾€å½±å“è®¤çŸ¥åŠŸèƒ½å’Œç¤¾ä¼šäº¤å¾€ï¼Œå¯¼è‡´å·¥ä½œæ•ˆèƒ½ä¸‹é™å’Œç”Ÿæ´»è´¨é‡å—æŸã€‚å»ºè®®å¢åŠ é˜³å…‰ç…§å°„å’Œä½“è‚²é”»ç‚¼ï¼Œå»ºç«‹è§„å¾‹çš„ç”Ÿæ´»èŠ‚å¥ï¼Œå¯»æ±‚ç¤¾ä¼šæ”¯æŒï¼Œå¹¶è€ƒè™‘ä¸“ä¸šçš„å¿ƒç†è¯„ä¼°ä»¥ç¡®å®šæ˜¯å¦éœ€è¦è¿›ä¸€æ­¥çš„å¹²é¢„å’Œæ”¯æŒã€‚`;
            } else if (anxRelative.color === 'high') {
                analysis += `ç„¦è™‘ç—‡çŠ¶å¾—åˆ†${anxScore}/24ï¼Œå¤„äºéœ€è¦å…³æ³¨çš„æ°´å¹³ï¼Œè€ŒæŠ‘éƒç—‡çŠ¶ç›¸å¯¹å¯æ§ã€‚è¿™å¯èƒ½è¡¨ç°ä¸ºè¿‡åº¦çš„æ‹…å¿§ä¸å®‰ã€éš¾ä»¥æ”¾æ¾ã€è‚Œè‚‰ç´§å¼ ã€ç¡çœ å›°éš¾ç­‰ç—‡çŠ¶ã€‚ç„¦è™‘çŠ¶æ€å¾€å¾€ä¼´éšèº¯ä½“ä¸é€‚å’Œè®¤çŸ¥åŠŸèƒ½çš„æš‚æ—¶æ€§ä¸‹é™ï¼Œå½±å“å†³ç­–èƒ½åŠ›å’Œé—®é¢˜è§£å†³æ•ˆç‡ã€‚å»ºè®®å­¦ä¹ æ”¾æ¾è®­ç»ƒå’Œæ­£å¿µæŠ€å·§ï¼Œå»ºç«‹ç¨³å®šçš„æ—¥å¸¸ç”Ÿæ´»ç»“æ„ï¼Œå‡å°‘ä¸ç¡®å®šæ€§å› ç´ ï¼Œå¿…è¦æ—¶å¯»æ±‚è®¤çŸ¥è¡Œä¸ºç–—æ³•ç­‰ä¸“ä¸šå¸®åŠ©æ¥ç®¡ç†ç„¦è™‘ç—‡çŠ¶ã€‚`;
            } else {
                analysis += `æŠ‘éƒç—‡çŠ¶å¾—åˆ†${depScore}/24ï¼Œç„¦è™‘ç—‡çŠ¶å¾—åˆ†${anxScore}/24ï¼Œä¸¤è€…å‡åœ¨é¢„æœŸèŒƒå›´å†…ã€‚è¿™è¡¨æ˜æ‚¨å½“å‰çš„æƒ…ç»ªçŠ¶æ€ç›¸å¯¹ç¨³å®šï¼Œèƒ½å¤Ÿæœ‰æ•ˆåº”å¯¹æ—¥å¸¸å‹åŠ›å’ŒæŒ‘æˆ˜ã€‚æ‚¨å¯èƒ½æ‹¥æœ‰è‰¯å¥½çš„æƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›ã€ç§¯æçš„ç”Ÿæ´»æ€åº¦å’Œå……è¶³çš„ç¤¾ä¼šæ”¯æŒèµ„æºã€‚å»ºè®®ç»§ç»­ä¿æŒå¥åº·çš„ç”Ÿæ´»æ–¹å¼ï¼Œå®šæœŸè¿›è¡Œæƒ…ç»ªè‡ªè¯„ï¼Œå»ºç«‹é¢„é˜²æ€§çš„å¿ƒç†å¥åº·ç»´æŠ¤ä¹ æƒ¯ï¼Œç¡®ä¿æƒ…ç»ªçš„é•¿æœŸç¨³å®šæ€§ã€‚`;
            }
            
            return analysis;
        }

        // åŸºäºå‰–é¢å›¾ç”ŸæˆèŒä¸šå€¦æ€ åˆ†æ
        function generateBurnoutAnalysis(profileData, scores) {
            const relativeScores = calculateRelativeScores(scores);
            const highRiskDimensions = Object.entries(relativeScores).filter(([dim, data]) => data.color === 'high');
            
            let analysis = `èŒä¸šå€¦æ€ ä¸“é¡¹åˆ†ææ˜¾ç¤ºï¼š`;
            
            if (highRiskDimensions.length >= 3) {
                analysis += `æ‚¨åœ¨å½“å‰è¯„ä¼°ä¸­è¡¨ç°å‡ºå…¸å‹çš„é‡åº¦èŒä¸šå€¦æ€ ç‰¹å¾ï¼Œæ¶‰åŠæƒ…ç»ªè€—ç«­ï¼ˆ${scores.emotional_exhaustion}/40ï¼‰ã€å·¥ä½œç–ç¦»ï¼ˆ${scores.cynicism}/30ï¼‰å’ŒèŒä¸šæ•ˆèƒ½ä¸‹é™ï¼ˆ${scores.professional_efficacy}/30ï¼‰ä¸‰ä¸ªæ ¸å¿ƒç»´åº¦å‡å¤„äºè¾ƒé«˜é£é™©æ°´å¹³ã€‚è¿™ç§å…¨é¢æ€§çš„å€¦æ€ çŠ¶æ€è¡¨æ˜æ‚¨å¯èƒ½é•¿æœŸå¤„äºé«˜å‹åŠ›å·¥ä½œç¯å¢ƒä¸­ï¼Œæƒ…æ„Ÿèµ„æºå’Œå¿ƒç†èƒ½é‡ä¸¥é‡è€—ç«­ï¼Œå¯¹å·¥ä½œä»·å€¼äº§ç”Ÿæ·±åº¦æ€€ç–‘ï¼ŒåŒæ—¶è‡ªæˆ‘æ•ˆèƒ½æ„Ÿæ˜¾è‘—é™ä½ã€‚å»ºè®®ç«‹å³é‡‡å–ç»¼åˆæ€§å¹²é¢„æªæ–½ï¼ŒåŒ…æ‹¬å·¥ä½œè´Ÿè·è°ƒæ•´ã€å¿ƒç†å’¨è¯¢æ”¯æŒã€èŒä¸šé‡ä¼°å’Œç¤¾ä¼šæ”¯æŒç½‘ç»œé‡å»ºï¼Œå¿…è¦æ—¶è€ƒè™‘æš‚æ—¶çš„å·¥ä½œç¯å¢ƒå˜æ›´æˆ–èŒä¸šè½¬å‹ã€‚`;
            } else if (highRiskDimensions.length >= 2) {
                analysis += `æ‚¨åœ¨å½“å‰è¯„ä¼°ä¸­è¡¨ç°å‡ºä¸­åº¦çš„èŒä¸šå€¦æ€ ç‰¹å¾ï¼Œä¸»è¦æ¶‰åŠ${highRiskDimensions.map(([dim]) => dim === 'emotional_exhaustion' ? 'æƒ…ç»ªè€—ç«­' : dim === 'cynicism' ? 'å·¥ä½œç–ç¦»' : 'èŒä¸šæ•ˆèƒ½').join('å’Œ')}ä¸¤ä¸ªç»´åº¦çš„å¼‚å¸¸ã€‚è¿™ç§éƒ¨åˆ†æ€§çš„å€¦æ€ çŠ¶æ€è¡¨æ˜æ‚¨åœ¨æŸäº›å·¥ä½œæ–¹é¢æ‰¿å—è¾ƒå¤§å‹åŠ›ï¼Œä½†æ•´ä½“åŠŸèƒ½å°šæœªå®Œå…¨å—æŸã€‚å»ºè®®é’ˆå¯¹æ€§åœ°å¤„ç†ä¸»è¦å‹åŠ›æºï¼Œå»ºç«‹æ›´æœ‰æ•ˆçš„å·¥ä½œè¾¹ç•Œå’Œæ¢å¤æœºåˆ¶ï¼ŒåŠ å¼ºèŒä¸šè®¤åŒæ„Ÿå’Œæˆå°±æ„ŸåŸ¹å…»ï¼Œé˜²æ­¢å€¦æ€ çŠ¶æ€çš„è¿›ä¸€æ­¥å‘å±•å’Œæ‰©æ•£ã€‚`;
            } else if (highRiskDimensions.length === 1) {
                analysis += `æ‚¨åœ¨å½“å‰è¯„ä¼°ä¸­è¡¨ç°å‡ºè½»åº¦çš„èŒä¸šå€¦æ€ å€¾å‘ï¼Œä¸»è¦ä½“ç°åœ¨${highRiskDimensions[0][0] === 'emotional_exhaustion' ? 'æƒ…ç»ªè€—ç«­' : highRiskDimensions[0][0] === 'cynicism' ? 'å·¥ä½œç–ç¦»' : 'èŒä¸šæ•ˆèƒ½'}ç»´åº¦ã€‚è¿™ç§å•ä¸€ç»´åº¦çš„å¼‚å¸¸é€šå¸¸æ˜¯èŒä¸šå€¦æ€ çš„æ—©æœŸä¿¡å·ï¼Œæç¤ºæŸäº›å·¥ä½œå› ç´ å¯èƒ½å¯¹æ‚¨é€ æˆç‰¹å®šå‹åŠ›ã€‚å»ºè®®å…³æ³¨è¯¥ç»´åº¦çš„å˜åŒ–è¶‹åŠ¿ï¼Œè¯†åˆ«å…·ä½“çš„å½±å“å› ç´ ï¼Œé‡‡å–é¢„é˜²æ€§æªæ–½è¿›è¡Œè°ƒæ•´å’Œä¼˜åŒ–ï¼Œé¿å…å€¦æ€ ç—‡çŠ¶å‘å…¶ä»–ç»´åº¦è”“å»¶å’Œå‘å±•ã€‚`;
            } else {
                analysis += `æ‚¨åœ¨å½“å‰è¯„ä¼°ä¸­å„ç»´åº¦å‡å¤„äºç›¸å¯¹å¹³è¡¡çŠ¶æ€ï¼ŒèŒä¸šå€¦æ€ é£é™©è¾ƒä½ã€‚æƒ…ç»ªè€—ç«­ï¼ˆ${scores.emotional_exhaustion}/40ï¼‰ã€å·¥ä½œç–ç¦»ï¼ˆ${scores.cynicism}/30ï¼‰å’ŒèŒä¸šæ•ˆèƒ½ï¼ˆ${scores.professional_efficacy}/30ï¼‰ä¸‰ä¸ªæ ¸å¿ƒæŒ‡æ ‡å‡åœ¨å¥åº·èŒƒå›´å†…ã€‚è¿™è¡¨æ˜æ‚¨ç›®å‰èƒ½å¤Ÿæœ‰æ•ˆç®¡ç†å·¥ä½œå‹åŠ›ï¼Œä¿æŒç§¯æçš„å·¥ä½œæ€åº¦å’Œé€‚å½“çš„èŒä¸šæˆå°±æ„Ÿã€‚å»ºè®®ç»§ç»­ä¿æŒç°æœ‰çš„å¥åº·å·¥ä½œæ¨¡å¼ï¼Œå®šæœŸè¿›è¡Œè‡ªæˆ‘ç›‘æµ‹ï¼Œå»ºç«‹é¢„é˜²æ€§çš„å‹åŠ›ç®¡ç†æœºåˆ¶ï¼Œç¡®ä¿æŒç»­çš„èŒä¸šå¥åº·å‘å±•ã€‚`;
            }
            
            return analysis;
        }
        
        // ç”Ÿæˆå¿ƒç†å¥åº·ç—‡çŠ¶è¯¦ç»†åˆ†æ
        function generateMentalHealthSymptomAnalysis(scores) {
            const analysisContainer = document.getElementById('mentalHealthSymptomAnalysis');
            
            const symptomAnalysisHTML = `
                <div style="background: rgba(255, 255, 255, 0.7); border-radius: 15px; padding: 15px; margin: 15px 0;">
                    <div style="font-size: 16px; color: var(--accent-color); margin-bottom: 10px; font-weight: bold;">ğŸ’¡ ç—‡çŠ¶è§‚å¯ŸæŒ‡å—</div>
                    <div style="margin-bottom: 10px;">è¯·å…³æ³¨ä»¥ä¸‹æ–¹é¢ï¼š</div>
                    <ul style="margin-left: 20px;">
                        <li>è¿™äº›ç—‡çŠ¶å‡ºç°çš„é¢‘ç‡å’ŒæŒç»­æ—¶é—´</li>
                        <li>ç—‡çŠ¶å¯¹å·¥ä½œæ•ˆèƒ½å’Œæ—¥å¸¸ç”Ÿæ´»çš„å½±å“</li>
                        <li>æœ€è¿‘ä¸€ä¸ªæœˆç—‡çŠ¶çš„å˜åŒ–è¶‹åŠ¿</li>
                        <li>æ˜¯å¦æœ‰ç‰¹å®šçš„è§¦å‘å› ç´ æˆ–ç¼“è§£æ–¹å¼</li>
                    </ul>
                </div>
            `;
            
            analysisContainer.innerHTML = symptomAnalysisHTML;
        }
        
        // åŸºäºå‰–é¢å›¾ç”Ÿæˆå¿ƒç†å¥åº·åˆ†æ
        function generateMentalHealthAnalysis(profileData, scores) {
            let analysis = "å¿ƒç†å¥åº·çŠ¶å†µï¼š";
            
            if (scores.depression >= 10 || scores.anxiety >= 10) {
                analysis += "æƒ…ç»ªç—‡çŠ¶è¾¾åˆ°éœ€è¦å…³æ³¨çš„æ°´å¹³ï¼Œ";
            } else {
                analysis += "æƒ…ç»ªç—‡çŠ¶åœ¨é¢„æœŸèŒƒå›´å†…ï¼Œ";
            }
            
            if (scores.wellbeing <= 8) {
                analysis += "ä¸»è§‚å¹¸ç¦æ„Ÿè¾ƒä½ã€‚";
            } else {
                analysis += "ä¸»è§‚å¹¸ç¦æ„Ÿä¿æŒè¾ƒå¥½ã€‚";
            }
            
            analysis += " å¿ƒç†å¥åº·å—å¤šç§å› ç´ å½±å“ï¼Œå»ºè®®å»ºç«‹è§„å¾‹çš„å¥åº·ä¹ æƒ¯ã€‚";
            
            return analysis;
        }
        
        // ç”Ÿæˆä¸ªæ€§åŒ–è°ƒæ•´æŒ‡å—
        function generateAdjustmentGuide(scores) {
            const guideContainer = document.getElementById('adjustmentGuide');
            guideContainer.innerHTML = '';
            
            const relativeScores = calculateRelativeScores(scores);
            const highRiskCount = Object.values(relativeScores).filter(data => data.color === 'high').length;
            
            let steps = [];
            
            if (highRiskCount >= 3) {
                steps = [
                    {
                        title: "è®¾ç«‹æ˜ç¡®çš„å·¥ä½œè¾¹ç•Œ",
                        description: "è®¾å®šå›ºå®šçš„å·¥ä½œç»“æŸæ—¶é—´ï¼Œä¸‹ç­åå®Œå…¨æ–­å¼€å·¥ä½œè”ç³»ã€‚åˆ›å»º'å…³æœºä»ªå¼'å¸®åŠ©èº«å¿ƒè½¬æ¢ã€‚"
                    },
                    {
                        title: "å»ºç«‹æ—¥å¸¸å¾®ä¼‘æ¯ä¹ æƒ¯",
                        description: "æ¯å·¥ä½œ50åˆ†é’Ÿï¼Œå¼ºåˆ¶ä¼‘æ¯10åˆ†é’Ÿã€‚ä¼‘æ¯æ—¶è¿œç¦»å±å¹•ï¼Œè¿›è¡Œç®€å•çš„ä¼¸å±•æˆ–æ·±å‘¼å¸ç»ƒä¹ ã€‚"
                    },
                    {
                        title: "åˆ›å»ºå‡å‹æ”¾æ¾ä»ªå¼",
                        description: "æ¯å¤©å·¥ä½œç»“æŸåï¼Œè¿›è¡Œ15åˆ†é’Ÿçš„å‡å‹æ´»åŠ¨ï¼Œå¦‚æ•£æ­¥ã€å¬éŸ³ä¹æˆ–å†¥æƒ³ã€‚"
                    },
                    {
                        title: "ä¼˜åŒ–ç¡çœ ç¯å¢ƒä¸ä¹ æƒ¯",
                        description: "ç¡®ä¿å§å®¤é»‘æš—ã€å®‰é™ã€å‡‰çˆ½ï¼Œç¡å‰1å°æ—¶é¿å…ä½¿ç”¨ç”µå­è®¾å¤‡ï¼Œå»ºç«‹å›ºå®šçš„ç¡çœ æ—¶é—´è¡¨ã€‚"
                    },
                    {
                        title: "å¯»æ±‚ç¤¾ä¼šæ”¯æŒç½‘ç»œ",
                        description: "æ¯å‘¨è‡³å°‘å®‰æ’ä¸€æ¬¡ä¸æœ‹å‹æˆ–å®¶äººçš„æ·±åº¦äº¤æµï¼Œåˆ†äº«å·¥ä½œå‹åŠ›å’Œæƒ…ç»ªå›°æ‰°ã€‚"
                    },
                    {
                        title: "è€ƒè™‘ä¸“ä¸šæ”¯æŒé€‰æ‹©",
                        description: "å¦‚æœç—‡çŠ¶æŒç»­å½±å“ç”Ÿæ´»ï¼Œè€ƒè™‘é¢„çº¦å¿ƒç†å’¨è¯¢å¸ˆè¿›è¡Œä¸“ä¸šè¯„ä¼°ã€‚"
                    }
                ];
            } else if (highRiskCount >= 1) {
                steps = [
                    {
                        title: "æ—¶é—´å—ç®¡ç†å·¥ä½œæ³•",
                        description: "å°†å·¥ä½œæ—¥åˆ’åˆ†ä¸ºä¸“æ³¨å·¥ä½œå—å’Œä¼‘æ¯å—ï¼Œä½¿ç”¨ç•ªèŒ„å·¥ä½œæ³•æé«˜æ•ˆç‡å¹¶å‡å°‘æŒç»­å‹åŠ›ã€‚"
                    },
                    {
                        title: "æƒ…ç»ªè§‰å¯Ÿæ—¥è®°",
                        description: "æ¯å¤©è®°å½•3ä»¶æ„Ÿæ©çš„äº‹æƒ…å’Œ1ä¸ªæƒ…ç»ªæ³¢åŠ¨æ—¶åˆ»ï¼ŒåŸ¹å…»ç§¯æå¿ƒæ€å’Œæƒ…ç»ªè§‰å¯Ÿèƒ½åŠ›ã€‚"
                    },
                    {
                        title: "è§„å¾‹è¿åŠ¨èå…¥ç”Ÿæ´»",
                        description: "æ¯å¤©å®‰æ’30åˆ†é’Ÿä¸­ç­‰å¼ºåº¦è¿åŠ¨ï¼Œå¦‚å¿«èµ°ã€éª‘è‡ªè¡Œè½¦æˆ–ç‘œä¼½ï¼Œå¸®åŠ©é‡Šæ”¾å‹åŠ›å’Œæ”¹å–„æƒ…ç»ªã€‚"
                    },
                    {
                        title: "æ•°å­—æ’æ¯’æ—¶é—´",
                        description: "è®¾å®šæ¯å¤©å›ºå®šçš„æ— å±å¹•æ—¶é—´ï¼Œå¦‚æ™šé¤å1å°æ—¶ï¼Œå‡å°‘ä¿¡æ¯è¿‡è½½å¸¦æ¥çš„å¿ƒç†è´Ÿæ‹…ã€‚"
                    },
                    {
                        title: "å‹åŠ›ç®¡ç†æŠ€å·§å­¦ä¹ ",
                        description: "å­¦ä¹ 1-2ä¸ªå‹åŠ›ç®¡ç†æŠ€å·§ï¼Œå¦‚æ¸è¿›å¼è‚Œè‚‰æ”¾æ¾æˆ–æ­£å¿µå†¥æƒ³ï¼Œæ¯å‘¨ç»ƒä¹ 3-4æ¬¡ã€‚"
                    },
                    {
                        title: "å·¥ä½œç¯å¢ƒä¼˜åŒ–",
                        description: "æ•´ç†å·¥ä½œç©ºé—´ï¼Œå¢åŠ ç»¿è‰²æ¤ç‰©ï¼Œç¡®ä¿è‰¯å¥½çš„å…‰çº¿å’Œé€šé£ï¼Œåˆ›é€ èˆ’é€‚çš„å·¥ä½œç¯å¢ƒã€‚"
                    }
                ];
            } else {
                steps = [
                    {
                        title: "é¢„é˜²æ€§è‡ªæˆ‘å…³æ€€",
                        description: "å³ä½¿æ„Ÿè§‰è‰¯å¥½ï¼Œä¹Ÿè¦åšæŒæ¯å¤©15åˆ†é’Ÿçš„è‡ªæˆ‘å…³æ€€æ—¶é—´ï¼Œå¦‚é˜…è¯»ã€æ³¡æ¾¡æˆ–å…´è¶£çˆ±å¥½ã€‚"
                    },
                    {
                        title: "å®šæœŸå‹åŠ›æ°´å¹³è¯„ä¼°",
                        description: "æ¯æœˆè¿›è¡Œä¸€æ¬¡å‹åŠ›æ°´å¹³è¯„ä¼°ï¼Œä½¿ç”¨ç®€å•çš„1-10åˆ†è¯„åˆ†ï¼ŒåŠæ—¶å‘ç°æ½œåœ¨çš„å‹åŠ›æºã€‚"
                    },
                    {
                        title: "æ³¨é‡ç¤¾äº¤è´¨é‡",
                        description: "æ³¨é‡ç¤¾äº¤äº’åŠ¨çš„è´¨é‡è€Œéæ•°é‡ï¼Œæ¯æœˆå®‰æ’1-2æ¬¡æœ‰æ„ä¹‰çš„æ·±åº¦äº¤æµï¼Œå¼ºåŒ–ç¤¾ä¼šæ”¯æŒç½‘ç»œã€‚"
                    },
                    {
                        title: "æŒç»­å­¦ä¹ ä¸å‘å±•",
                        description: "åˆ©ç”¨å½“å‰è‰¯å¥½çŠ¶æ€ï¼Œå­¦ä¹ æ–°çš„å‹åŠ›ç®¡ç†æŠ€èƒ½æˆ–å¿ƒç†å¥åº·çŸ¥è¯†ï¼Œä¸ºæœªæ¥å¯èƒ½é‡åˆ°çš„æŒ‘æˆ˜åšå‡†å¤‡ã€‚"
                    },
                    {
                        title: "å·¥ä½œç”Ÿæ´»å¹³è¡¡ç»´æŠ¤",
                        description: "å®šæœŸæ£€è§†å·¥ä½œä¸ç”Ÿæ´»çš„å¹³è¡¡ï¼Œç¡®ä¿æœ‰è¶³å¤Ÿçš„æ—¶é—´ç”¨äºä¼‘æ¯ã€å¨±ä¹å’Œä¸ªäººæˆé•¿ã€‚"
                    },
                    {
                        title: "æˆå°±è®¤å¯ä¸åº†ç¥",
                        description: "è®¤å¯å¹¶åº†ç¥å°çš„æˆå°±å’Œè¿›æ­¥ï¼ŒåŸ¹å…»ç§¯æçš„è‡ªæˆ‘è®¤çŸ¥å’Œæˆå°±æ„Ÿã€‚"
                    }
                ];
            }
            
            steps.forEach((step, index) => {
                const stepElement = document.createElement('div');
                stepElement.className = 'guide-item';
                stepElement.innerHTML = `
                    <div class="guide-number">${index + 1}</div>
                    <div class="guide-content">
                        <div class="guide-title">${step.title}</div>
                        <div class="guide-description">${step.description}</div>
                    </div>
                `;
                guideContainer.appendChild(stepElement);
            });
        }
        
        // ç”Ÿæˆ7æ—¥èƒ½é‡æ¢å¤æŒ‘æˆ˜
        function generateSevenDayChallenge(scores) {
            const challengeContainer = document.getElementById('sevenDayChallenge');
            challengeContainer.innerHTML = '';
            
            const challengeDays = [
                {
                    day: "1",
                    title: "è§‰å¯Ÿä¸æ¥çº³",
                    content: "ä»Šæ—¥ä¸»é¢˜ï¼šè§‰å¯Ÿä¸æ¥çº³ã€‚è¯·èŠ±15åˆ†é’Ÿè¿›è¡Œèº«ä½“æ‰«æå†¥æƒ³ï¼Œä»å¤´åˆ°è„šè§‰å¯Ÿèº«ä½“æ„Ÿå—ï¼Œä¸åšè¯„åˆ¤ã€‚è®°å½•ä¸‹ä¸‰ä¸ªæ‚¨æ³¨æ„åˆ°çš„èº«ä½“æ„Ÿè§‰å’Œå¯¹åº”çš„æƒ…ç»ªçŠ¶æ€ã€‚æ™šä¸Šå›é¡¾æ—¶ï¼Œå°è¯•ç”¨æ¥çº³çš„æ€åº¦çœ‹å¾…è¿™äº›æ„Ÿå—ï¼Œç†è§£å®ƒä»¬æ˜¯èº«å¿ƒåœ¨å‘æ‚¨ä¼ é€’é‡è¦ä¿¡æ¯ã€‚è¿™ä¸ªç»ƒä¹ èƒ½å¸®åŠ©æ‚¨é‡æ–°è¿æ¥èº«ä½“ä¿¡å·ï¼Œå»ºç«‹è‡ªæˆ‘è§‰å¯Ÿçš„åŸºç¡€ã€‚"
                },
                {
                    day: "2",
                    title: "è¾¹ç•Œå»ºç«‹",
                    content: "ä»Šæ—¥ä¸»é¢˜ï¼šè¾¹ç•Œå»ºç«‹ã€‚è®¾å®šä¸€ä¸ªæ˜ç¡®çš„å·¥ä½œç»“æŸæ—¶é—´ï¼Œå¹¶åœ¨æ­¤åå®Œå…¨æ–­å¼€å·¥ä½œè”ç³»ã€‚åˆ›å»ºä¸€ä¸ª'å…³æœºä»ªå¼'ï¼Œå¦‚æ•´ç†æ¡Œé¢ã€å†™ä¸‹æ˜æ—¥è®¡åˆ’åå…³é—­ç”µè„‘ã€‚æ™šä¸Šå®‰æ’ä¸€ä»¶çº¯ç²¹ä¸ºäº†æ„‰æ‚¦çš„æ´»åŠ¨ï¼Œé˜…è¯»ã€éŸ³ä¹æˆ–æ•£æ­¥ï¼Œé‡æ‹¾å¯¹ä¸ªäººæ—¶é—´çš„æŒæ§æ„Ÿã€‚"
                },
                {
                    day: "3",
                    title: "èº«ä½“æ™ºæ…§",
                    content: "ä»Šæ—¥ä¸»é¢˜ï¼šèº«ä½“æ™ºæ…§ã€‚è¿›è¡Œä¸¤æ¬¡10åˆ†é’Ÿçš„'å¾®è¿åŠ¨'ï¼Œå¯ä»¥æ˜¯åˆé¥­åæ•£æ­¥ã€ä¸‹ç­ååšå‡ ä¸ªæ‹‰ä¼¸åŠ¨ä½œã€‚å…³æ³¨èº«ä½“çš„æ„Ÿè§‰ï¼Œè€Œéè¿åŠ¨é‡ã€‚è¿™æ˜¯é‡æ–°å”¤é†’èº«ä½“ã€æ‰“ç ´ä¹…åå’Œæ€ç»´åœæ»çŠ¶æ€çš„æœ‰æ•ˆæ–¹å¼ã€‚åŒæ—¶ï¼Œæ³¨æ„é¥®é£Ÿï¼Œé€‰æ‹©è¥å…»å‡è¡¡çš„é£Ÿç‰©ï¼Œä¸ºèº«ä½“æä¾›å……è¶³èƒ½é‡ã€‚"
                },
                {
                    day: "4",
                    title: "æƒ…ç»ªè°ƒèŠ‚",
                    content: "ä»Šæ—¥ä¸»é¢˜ï¼šæƒ…ç»ªè°ƒèŠ‚ã€‚å½“æ„Ÿåˆ°å‹åŠ›æˆ–è´Ÿé¢æƒ…ç»ªæ—¶ï¼Œå°è¯•'5-4-3-2-1'æ„Ÿå®˜ç»ƒä¹ ï¼šè¯´å‡º5ä¸ªä½ èƒ½çœ‹åˆ°çš„ä¸œè¥¿ï¼Œ4ä¸ªä½ èƒ½è§¦æ‘¸åˆ°çš„ä¸œè¥¿ï¼Œ3ä¸ªä½ èƒ½å¬åˆ°çš„å£°éŸ³ï¼Œ2ä¸ªä½ èƒ½é—»åˆ°çš„æ°”å‘³ï¼Œ1ä¸ªä½ èƒ½å°åˆ°çš„å‘³é“ã€‚è¿™ä¸ªç»ƒä¹ èƒ½å¸®åŠ©ä½ å›åˆ°å½“ä¸‹ï¼Œå‡å°‘æƒ…ç»ªæ³¢åŠ¨ã€‚"
                },
                {
                    day: "5",
                    title: "æ„ä¹‰é‡æ„",
                    content: "ä»Šæ—¥ä¸»é¢˜ï¼šæ„ä¹‰é‡æ„ã€‚å›é¡¾ä½ çš„å·¥ä½œï¼Œæ‰¾å‡ºä¸‰ä¸ªè®©ä½ æ„Ÿåˆ°æœ‰æ„ä¹‰æˆ–æœ‰æˆå°±æ„Ÿçš„æ—¶åˆ»ï¼Œæ— è®ºå¤§å°ã€‚æ€è€ƒè¿™äº›æ—¶åˆ»ä¸ºä»€ä¹ˆå¯¹ä½ é‡è¦ï¼Œå®ƒä»¬ä½“ç°äº†ä½ çš„å“ªäº›ä»·å€¼è§‚ã€‚å°è¯•å°†æ›´å¤šè¿™æ ·çš„å…ƒç´ èå…¥æ—¥å¸¸å·¥ä½œä¸­ï¼Œé‡æ–°è¿æ¥å·¥ä½œçš„æ„ä¹‰ã€‚"
                },
                {
                    day: "6",
                    title: "ç¤¾ä¼šè¿æ¥",
                    content: "ä»Šæ—¥ä¸»é¢˜ï¼šç¤¾ä¼šè¿æ¥ã€‚ä¸»åŠ¨è¿›è¡Œä¸€æ¬¡ç®€çŸ­ä½†æœ‰æ„ä¹‰çš„ç¤¾äº¤è¿æ¥ã€‚å¯ä»¥ç»™ä¸€ä½æœ‹å‹å‘æ¡ä¿¡æ¯é—®å€™ï¼Œå’Œå®¶äººè®¤çœŸèŠèŠå¤©ï¼ˆä¸è°ˆå·¥ä½œï¼‰ï¼Œæˆ–è€…å¯¹åŒäº‹è¡¨è¾¾ä¸€å¥çœŸè¯šçš„æ„Ÿè°¢ã€‚é‡ç‚¹æ˜¯è´¨é‡è€Œéæ•°é‡ã€‚ç§¯æçš„ç¤¾ä¼šæ”¯æŒæ˜¯æŠµæŠ—å‹åŠ›çš„æœ€å¼ºç¼“å†²å™¨ã€‚"
                },
                {
                    day: "7",
                    title: "æ•´åˆè§„åˆ’",
                    content: "ä»Šæ—¥ä¸»é¢˜ï¼šæ•´åˆè§„åˆ’ã€‚å›é¡¾è¿‡å»å…­å¤©çš„ä½“éªŒï¼Œå“ªä¸€å¤©è®©æ‚¨æ„Ÿè§‰æœ€å¥½ï¼Ÿå“ªä¸€ä¸ªå¾®å°çš„è¡ŒåŠ¨æ˜¯æ‚¨æ„¿æ„èå…¥æœªæ¥ç”Ÿæ´»çš„ï¼Ÿè¯·é€‰æ‹©1-2ä¸ªæ‚¨è®¤ä¸ºæœ€æœ‰ç›Šã€æœ€å¯è¡Œçš„è¡ŒåŠ¨ï¼Œå°†å®ƒä»¬å†™å…¥æ‚¨ä¸‹å‘¨çš„è®¡åˆ’ä¸­ã€‚å¯æŒç»­çš„æ”¹å˜ä¸åœ¨äºä¸€æ¬¡æ€§çš„å®å¤§è®¡åˆ’ï¼Œè€Œåœ¨äºå°†å¾®å°çš„æ¢å¤æ€§è¡ŒåŠ¨æŒä¹‹ä»¥æ’åœ°åµŒå…¥æ—¥å¸¸ç”Ÿæ´»ã€‚"
                }
            ];
            
            challengeDays.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.className = 'challenge-day';
                
                dayElement.innerHTML = `
                    <div class="day-header">
                        <div class="day-number">${day.day}</div>
                        <div class="day-title">${day.title}</div>
                    </div>
                    <div class="day-content">
                        <p>${day.content}</p>
                    </div>
                `;
                
                challengeContainer.appendChild(dayElement);
            });
        }
        
        // æ˜¾ç¤ºç»“æœ
        function showResults() {
            const scores = calculateScores();
            
            // è®¡ç®—ç›¸å¯¹åˆ†æ•°å’Œæ¨¡å¼
            const relativeScores = calculateRelativeScores(scores);
            const patterns = patternBasedAnalysis(scores);
            const conservative = conservativeInterpretation(scores);
            const profileData = generatePsychologyProfile(scores);
            
            // æ›´æ–°æŠ¥å‘ŠIDå’Œæ—¥æœŸ
            const trackId = 'ST-' + Math.random().toString(36).substr(2, 9).toUpperCase();
            document.getElementById('reportId').textContent = trackId;
            
            const currentDate = new Date();
            const formattedDate = `${currentDate.getFullYear()}å¹´${currentDate.getMonth() + 1}æœˆ${currentDate.getDate()}æ—¥`;
            document.getElementById('reportDate').textContent = formattedDate;
            
            // æ›´æ–°ç»¼åˆå¾—åˆ†ï¼ˆåŸºäºç›¸å¯¹è¯„ä¼°ï¼‰
            const totalScore = Math.round(
                (scores.emotional_exhaustion / 40 * 25) +
                (scores.cynicism / 30 * 25) + 
                (scores.depression / 24 * 20) +
                (scores.anxiety / 24 * 20) +
                ((30 - scores.professional_efficacy) / 30 * 10)
            );
            document.getElementById('totalScore').textContent = totalScore;
            
            // æ›´æ–°ç›¸å¯¹æ°´å¹³æ’åï¼ˆåŸºäºé«˜é£é™©ç»´åº¦æ•°é‡ï¼‰
            const highRiskCount = Object.values(relativeScores).filter(data => data.color === 'high').length;
            let percentileRank = "å‰60%";
            if (highRiskCount >= 3) percentileRank = "å‰10%";
            else if (highRiskCount >= 1) percentileRank = "å‰30%";
            document.getElementById('percentileRank').textContent = percentileRank;
            
            // æ›´æ–°æ¨¡å¼åˆ†æ
            document.getElementById('patternAnalysisContent').textContent = patterns;
            
            // æ›´æ–°ä¿å®ˆç»“è®º
            document.getElementById('conservativeConclusion').innerHTML = `
                <p>${conservative.message}</p>
                <p class="footnote">${conservative.disclaimer}</p>
            `;
            
            // ç”Ÿæˆå„é‡è¡¨è¯¦ç»†åˆ†æ
            generateScaleAnalysis(scores);
            
            // ç”Ÿæˆå¿ƒç†å¥åº·ç—‡çŠ¶è¯¦ç»†åˆ†æ
            generateMentalHealthSymptomAnalysis(scores);
            
            // æ›´æ–°å€¦æ€ ç»“æœ
            document.getElementById('burnoutAnalysis').textContent = generateBurnoutAnalysis(profileData, scores);
            
            // æ›´æ–°å¿ƒç†å¥åº·ç»“æœ
            document.getElementById('mentalHealthAnalysis').textContent = generateMentalHealthAnalysis(profileData, scores);
            
            // ç”Ÿæˆ7æ—¥æŒ‘æˆ˜
            generateSevenDayChallenge(scores);
            
            // ç”Ÿæˆè°ƒæ•´æŒ‡å—
            generateAdjustmentGuide(scores);
            
            // åˆ‡æ¢åˆ°ç»“æœé¡µ
            document.getElementById('quizPage').classList.remove('active');
            document.getElementById('resultPage').classList.add('active');
            
            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo(0, 0);
        }
        
        // é‡æ–°æµ‹è¯•
        function restartTest() {
            // é‡ç½®çŠ¶æ€
            currentQuestionIndex = 0;
            userAnswers = [];
            
            // åˆ‡æ¢åˆ°æµ‹è¯•é¡µ
            document.getElementById('resultPage').classList.remove('active');
            document.getElementById('quizPage').classList.add('active');
            
            // æ˜¾ç¤ºç¬¬ä¸€é¢˜
            displayQuestion(currentQuestionIndex);
            
            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo(0, 0);
        }
        
        // åˆå§‹åŒ–åº”ç”¨
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
